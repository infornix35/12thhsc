<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Economics Quiz - Micro & Macro</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #000000;
            min-height: 100vh;
            padding: 20px;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .top-nav-buttons {
            width: 100%;
            max-width: 800px;
            display: flex;
            justify-content: flex-start;
            gap: 15px;
            margin-bottom: 20px;
            padding: 0 10px;
        }

        .container {
            max-width: 800px;
            width: 100%;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: #3b82f6;
            margin-bottom: 30px;
        }

        .header h1 {
            font-size: 2.5rem;
            text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
            margin-bottom: 10px;
            background: linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .progress-container {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 25px;
            padding: 5px;
            margin: 20px 0;
        }

        .progress-bar {
            background: linear-gradient(90deg, #1e3a8a 0%, #3b82f6 100%);
            height: 20px;
            border-radius: 20px;
            transition: width 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }

        .quiz-container {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.8), 0 0 20px rgba(59, 130, 246, 0.1);
            padding: 40px;
            margin-bottom: 20px;
            min-height: 400px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }

        .question-number {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 14px;
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
        }

        .category-badge {
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            margin-left: auto;
        }

        .category-mcq {
            background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
            color: white;
            box-shadow: 0 0 8px rgba(59, 130, 246, 0.4);
        }
        .category-odd {
            background: linear-gradient(135deg, #1e3a8a 0%, #60a5fa 100%);
            color: white;
            box-shadow: 0 0 8px rgba(96, 165, 250, 0.4);
        }
        .category-identify {
            background: linear-gradient(135deg, #312e81 0%, #6366f1 100%);
            color: white;
            box-shadow: 0 0 8px rgba(99, 102, 241, 0.4);
        }
        .category-correlation {
            background: linear-gradient(135deg, #7c2d12 0%, #ea580c 100%);
            color: white;
            box-shadow: 0 0 8px rgba(234, 88, 12, 0.4);
        }

        .question {
            font-size: 20px;
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 30px;
            line-height: 1.4;
        }

        .options {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }

        .option {
            background: rgba(30, 58, 138, 0.1);
            border: 2px solid rgba(59, 130, 246, 0.3);
            border-radius: 12px;
            padding: 15px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 16px;
            display: flex;
            align-items: center;
            color: #e2e8f0;
        }

        .option:hover {
            background: rgba(59, 130, 246, 0.2);
            border-color: rgba(59, 130, 246, 0.6);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.2);
        }

        .option.selected {
            background: rgba(59, 130, 246, 0.3);
            border-color: #3b82f6;
            color: #ffffff;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
        }

        .option-letter {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-right: 15px;
            font-size: 14px;
        }

        .selected .option-letter {
            background: linear-gradient(135deg, #2563eb 0%, #60a5fa 100%);
            box-shadow: 0 0 10px rgba(59, 130, 246, 0.5);
        }

        .quiz-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 20px;
        }

        .btn {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.3);
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn:hover {
            background: linear-gradient(135deg, #1d4ed8 0%, #2563eb 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }

        .btn:disabled {
            background: rgba(71, 85, 105, 0.5);
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #374151 0%, #6b7280 100%);
            box-shadow: 0 4px 15px rgba(107, 114, 128, 0.3);
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #4b5563 0%, #9ca3af 100%);
            box-shadow: 0 6px 20px rgba(107, 114, 128, 0.4);
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            box-shadow: 0 4px 15px rgba(239, 68, 68, 0.3);
        }

        .btn-danger:hover {
            background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }

        .start-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .start-screen h2 {
            color: #3b82f6;
            font-size: 2rem;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
        }

        .start-screen p {
            color: #cbd5e1;
            font-size: 18px;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        .player-name-section {
            margin: 20px 0;
        }

        .player-name-section input {
            padding: 12px;
            border-radius: 8px;
            border: 2px solid rgba(59, 130, 246, 0.3);
            background: rgba(30, 58, 138, 0.1);
            color: white;
            font-size: 16px;
            margin-bottom: 20px;
            width: 250px;
            text-align: center;
            outline: none;
        }

        .player-name-section input:focus {
            border-color: #3b82f6;
            box-shadow: 0 0 15px rgba(59, 130, 246, 0.3);
        }

        .start-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .results-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .results-screen h2 {
            color: #3b82f6;
            font-size: 2rem;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
        }

        .score-display {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            padding: 30px;
            border-radius: 20px;
            margin: 30px 0;
            box-shadow: 0 0 30px rgba(59, 130, 246, 0.3);
        }

        .score-display h3 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 0 0 15px rgba(255, 255, 255, 0.3);
        }

        .score-breakdown {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .score-item {
            background: rgba(30, 58, 138, 0.2);
            border: 1px solid rgba(59, 130, 246, 0.3);
            padding: 20px;
            border-radius: 12px;
            text-align: center;
        }

        .score-item h4 {
            color: #3b82f6;
            font-size: 1.5rem;
            margin-bottom: 5px;
            text-shadow: 0 0 5px rgba(59, 130, 246, 0.3);
        }

        .score-item p {
            color: #cbd5e1;
            font-size: 14px;
            margin: 0;
        }

        .result-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .detailed-results {
            margin-top: 30px;
            text-align: left;
        }

        .detailed-results h3 {
            color: #3b82f6;
            font-size: 1.5rem;
            margin-bottom: 20px;
            text-align: center;
        }

        .answer-review {
            background: rgba(30, 58, 138, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .answer-review.correct {
            border-color: #22c55e;
            background: rgba(34, 197, 94, 0.1);
        }

        .answer-review.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
        }

        .review-question {
            font-weight: 600;
            color: #e2e8f0;
            margin-bottom: 10px;
        }

        .review-answer {
            color: #cbd5e1;
            margin-bottom: 10px;
        }

        .review-explanation {
            background: rgba(59, 130, 246, 0.1);
            border-left: 4px solid #3b82f6;
            padding: 12px;
            margin-top: 10px;
            font-size: 14px;
            color: #93c5fd;
            border-radius: 0 8px 8px 0;
        }

        .status-correct {
            color: #22c55e;
            font-weight: bold;
        }

        .status-incorrect {
            color: #ef4444;
            font-weight: bold;
        }

        .leaderboard-screen {
            text-align: center;
            padding: 40px 20px;
        }

        .leaderboard-screen h2 {
            color: #3b82f6;
            font-size: 2rem;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
        }

        .leaderboard-entry {
            background: rgba(30, 58, 138, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3);
            border-radius: 12px;
            padding: 15px 20px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.3s ease;
        }

        .leaderboard-entry:hover {
            background: rgba(59, 130, 246, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(59, 130, 246, 0.2);
        }

        .leaderboard-entry.current-user {
            background: rgba(34, 197, 94, 0.2);
            border-color: #22c55e;
        }

        .leaderboard-rank {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 16px;
        }

        .leaderboard-rank.gold {
            background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%);
        }

        .leaderboard-rank.silver {
            background: linear-gradient(135deg, #6b7280 0%, #9ca3af 100%);
        }

        .leaderboard-rank.bronze {
            background: linear-gradient(135deg, #92400e 0%, #d97706 100%);
        }

        .leaderboard-info {
            flex-grow: 1;
            margin-left: 20px;
            text-align: left;
        }

        .leaderboard-name {
            color: #e2e8f0;
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .leaderboard-details {
            color: #cbd5e1;
            font-size: 14px;
        }

        .leaderboard-score {
            color: #3b82f6;
            font-size: 24px;
            font-weight: bold;
            text-shadow: 0 0 10px rgba(59, 130, 246, 0.3);
        }

        .no-scores-message {
            color: #cbd5e1;
            font-size: 18px;
            text-align: center;
            padding: 40px;
            background: rgba(30, 58, 138, 0.05);
            border-radius: 12px;
            border: 1px dashed rgba(59, 130, 246, 0.3);
        }

        .leaderboard-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        @media (max-width: 768px) {
            .top-nav-buttons {
                justify-content: center;
                flex-wrap: wrap;
            }
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .quiz-container {
                padding: 25px;
            }
            
            .question {
                font-size: 18px;
            }
            
            .option {
                padding: 12px 15px;
                font-size: 14px;
            }
            
            .quiz-controls {
                flex-direction: column;
                gap: 15px;
            }

            .start-buttons, .result-buttons, .leaderboard-buttons {
                flex-direction: column;
            }

            .btn {
                width: 200px;
            }
        }

        .hidden {
            display: none;
        }

        /* Animation styles for notifications */
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="top-nav-buttons">
        <a href="../../12thhsc/index.html" class="btn btn-secondary">Back to Home</a>
        <a href="../Economics/economics.html" class="btn btn-secondary">Back to Lessons</a>
    </div>

    <div class="container">
        <div class="header">
            <h1>Economics Quiz</h1>
            <div class="progress-container">
                <div class="progress-bar" id="progressBar" style="width: 0%">
                    <span id="progressText">0 / 30</span>
                </div>
            </div>
        </div>

        <div class="quiz-container page active" id="startScreen">
            <div class="start-screen">
                <h2>Economics Comprehensive Test</h2>
                <p>Microeconomics & Macroeconomics concepts and applications.</p>
                
                <div class="player-name-section">
                    <label for="playerName" style="color: #3b82f6; font-weight: bold; margin-bottom: 10px; display: block;">Enter Your Name:</label>
                    <input type="text" id="playerName" placeholder="Your name here..." maxlength="20">
                </div>
                
                <div class="start-buttons">
                    <button class="btn" onclick="startQuiz()">Start Quiz</button>
                    <button class="btn btn-secondary" onclick="showLeaderboard()">View Leaderboard</button>
                </div>
            </div>
        </div>

        <div class="quiz-container page" id="quizContainer">
            <div class="question-header">
                <div class="question-number" id="questionNumber">Question 1 of 30</div>
                <div class="category-badge" id="categoryBadge">MCQ</div>
            </div>
            
            <div class="question" id="questionText">
                Loading question...
            </div>
            
            <div class="options" id="optionsContainer">
            </div>
            
            <div class="quiz-controls">
                <button class="btn btn-secondary" id="prevBtn" onclick="previousQuestion()" disabled>Previous</button>
                <button class="btn" id="nextBtn" onclick="nextQuestion()" disabled>Next</button>
            </div>
        </div>

        <div class="quiz-container page" id="resultsScreen">
            <div class="results-screen">
                <h2>Quiz Complete!</h2>
                <div class="score-display">
                    <h3 id="finalScore">0/30</h3>
                    <p>Your Performance</p>
                </div>
                
                <div class="score-breakdown">
                    <div class="score-item">
                        <h4 id="correctCount">0</h4>
                        <p>Correct Answers</p>
                    </div>
                    <div class="score-item">
                        <h4 id="incorrectCount">0</h4>
                        <p>Incorrect Answers</p>
                    </div>
                    <div class="score-item">
                        <h4 id="percentageScore">0%</h4>
                        <p>Percentage</p>
                    </div>
                    <div class="score-item">
                        <h4 id="gradeDisplay">F</h4>
                        <p>Grade</p>
                    </div>
                </div>
                
                <p id="performanceMessage">Good job on completing the quiz!</p>
                <div class="result-buttons">
                    <button class="btn" onclick="showDetailedResults()">View Detailed Results</button>
                    <button class="btn btn-secondary" onclick="restartQuiz()">Take Quiz Again</button>
                    <button class="btn btn-secondary" onclick="showLeaderboard()">View Leaderboard</button>
                </div>

                <div class="detailed-results hidden" id="detailedResults">
                    <h3>📊 Detailed Answer Review</h3>
                    <div id="answerReviewContainer">
                    </div>
                </div>
            </div>
        </div>

        <div class="quiz-container page" id="leaderboardScreen">
            <div class="leaderboard-screen">
                <h2>🏆 Leaderboard 🏆</h2>
                <div class="leaderboard-container" id="leaderboardContainer">
                </div>
                <div class="leaderboard-buttons">
                    <button class="btn btn-secondary" onclick="hideLeaderboard()">Back to Quiz</button>
                    <button class="btn btn-danger" onclick="showAdminReset()">🔒 Reset Scores</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Quiz data with your economics questions
        const quizData = [
            // MCQ Questions (12)
            {
                question: "The branch of economics that deals with the allocation of resources is:",
                options: ["Micro economics", "Macro economics", "Econometrics", "None of these"],
                correct: 0,
                category: "mcq",
                explanation: "Microeconomics is the branch of economics that studies how individuals, households, and firms make decisions regarding the allocation of scarce resources. It focuses on supply and demand, market structures, and resource allocation at the individual level."
            },
            {
                question: "Which of the following concepts are studied under Micro economics?",
                options: ["National income", "General price level", "Factor pricing", "Product pricing"],
                correct: 3,
                category: "mcq",
                explanation: "Product pricing is a key concept in microeconomics, which deals with how prices of individual goods and services are determined in specific markets. National income and general price level are macroeconomic concepts."
            },
            {
                question: "The method adopted in micro economic analysis is:",
                options: ["Lumping method", "Aggregative method", "Slicing method", "Inclusive method"],
                correct: 2,
                category: "mcq",
                explanation: "The slicing method is used in microeconomics where the economy is divided into smaller units (individual consumers, firms, markets) for detailed analysis. This contrasts with macroeconomics which uses the lumping method."
            },
            {
                question: "Which of the following concepts are studied under Macro economics?",
                options: ["Whole economy", "Economic development", "Aggregate supply", "Product pricing"],
                correct: 0,
                category: "mcq",
                explanation: "Macroeconomics studies the whole economy as a single unit, including aggregates like national income, total employment, and overall economic performance. While economic development and aggregate supply are also macroeconomic, 'whole economy' is the most comprehensive answer."
            },
            {
                question: "The theory of economic welfare in Micro economics deals with:",
                options: ["Gross National Product", "Efficiency in allocation of resources", "Aggregation of national income", "Economic fluctuations"],
                correct: 1,
                category: "mcq",
                explanation: "The theory of economic welfare in microeconomics focuses on efficiency in the allocation of resources to maximize social welfare. It examines how resources can be distributed to achieve optimal satisfaction for society."
            },
            {
                question: "Who coined the terms 'Microeconomics' and 'Macroeconomics'?",
                options: ["Adam Smith", "Alfred Marshall", "Ragnar Frisch", "John Maynard Keynes"],
                correct: 2,
                category: "mcq",
                explanation: "Ragnar Frisch, a Norwegian economist and Nobel Prize winner, coined the terms 'microeconomics' and 'macroeconomics' in 1933 to distinguish between the study of individual economic units and the economy as a whole."
            },
            {
                question: "The study of individual consumer behaviour and individual producer behaviour falls under:",
                options: ["Microeconomics", "Macroeconomics", "Econometrics", "Welfare economics"],
                correct: 0,
                category: "mcq",
                explanation: "Microeconomics specifically studies individual economic units including consumer behavior (how individuals make purchasing decisions) and producer behavior (how firms make production and pricing decisions)."
            },
            {
                question: "Macro economics primarily studies:",
                options: ["Individual prices of goods", "National income and employment", "Price of a particular commodity", "Individual consumer behaviour"],
                correct: 1,
                category: "mcq",
                explanation: "Macroeconomics focuses on aggregate economic variables such as national income, total employment, inflation, and economic growth. It studies the economy as a whole rather than individual components."
            },
            {
                question: "The principle key tool used in Micro economic analysis is:",
                options: ["Aggregation", "Marginalism", "General equilibrium", "Economic growth modeling"],
                correct: 1,
                category: "mcq",
                explanation: "Marginalism is the fundamental principle in microeconomics that analyzes decisions based on marginal (additional) benefits and costs. It helps explain how rational agents make optimal choices."
            },
            {
                question: "Macro economics is concerned with:",
                options: ["Partial equilibrium", "Individual income", "General price level", "Product pricing"],
                correct: 2,
                category: "mcq",
                explanation: "Macroeconomics deals with aggregate variables including the general price level (inflation/deflation), which affects the entire economy. Partial equilibrium and product pricing are microeconomic concepts."
            },
            {
                question: "Which economist published 'General Theory of Employment, Interest and Money' (1936)?",
                options: ["Ragnar Frisch", "John Maynard Keynes", "Adam Smith", "Alfred Marshall"],
                correct: 1,
                category: "mcq",
                explanation: "John Maynard Keynes published this seminal work in 1936, which laid the foundation for modern macroeconomics and challenged classical economic theories, especially during the Great Depression."
            },
            {
                question: "The supply and demand forces determine the price of:",
                options: ["Aggregate goods", "Individual commodities", "National income", "Business cycles"],
                correct: 1,
                category: "mcq",
                explanation: "Supply and demand forces determine the prices of individual commodities in specific markets, which is a core concept in microeconomics. This market mechanism establishes equilibrium prices for particular goods and services."
            },

            // Odd One Out (6)
            {
                question: "Odd one out:",
                options: ["Rent", "Wages", "Inflation", "Interest"],
                correct: 2,
                category: "odd",
                explanation: "Inflation is a macroeconomic concept referring to the general rise in price levels. Rent, wages, and interest are factor payments studied in microeconomics as rewards to land, labor, and capital respectively."
            },
            {
                question: "Odd one out:",
                options: ["Microeconomics", "Macroeconomics", "National income", "Product pricing"],
                correct: 2,
                category: "odd",
                explanation: "National income is a specific macroeconomic concept, while the others are either branches of economics (micro/macro) or a specific topic (product pricing). National income is a variable studied within macroeconomics."
            },
            {
                question: "Odd one out:",
                options: ["Slicing method", "Lumping method", "Partial equilibrium", "Price theory"],
                correct: 1,
                category: "odd",
                explanation: "Lumping method is used in macroeconomics to aggregate individual units into totals. The other three (slicing method, partial equilibrium, and price theory) are microeconomic approaches and concepts."
            },
            {
                question: "Odd one out:",
                options: ["General price level", "Aggregate demand", "Individual supply", "Business cycles"],
                correct: 2,
                category: "odd",
                explanation: "Individual supply is a microeconomic concept focusing on a single firm's supply. General price level, aggregate demand, and business cycles are all macroeconomic concepts dealing with economy-wide phenomena."
            },
            {
                question: "Odd one out:",
                options: ["Alfred Marshall", "John Maynard Keynes", "Maurice Dobb", "David Ricardo"],
                correct: 1,
                category: "odd",
                explanation: "John Maynard Keynes is primarily associated with macroeconomics and founded modern macroeconomic theory. The others (Marshall, Dobb, Ricardo) are more closely associated with microeconomic theory and classical economics."
            },
            {
                question: "Odd one out:",
                options: ["Theory of investment function", "Theory of product pricing", "Theory of business cycles", "Theory of economic growth"],
                correct: 1,
                category: "odd",
                explanation: "Theory of product pricing is a microeconomic concept dealing with how individual product prices are determined. The other three (investment function, business cycles, economic growth) are macroeconomic theories."
            },

            // Identify the Term (6)
            {
                question: "It is the branch of economics which studies individual units like consumers, firms, and prices.",
                options: ["Macroeconomics", "Microeconomics", "Econometrics", "Welfare economics"],
                correct: 1,
                category: "identify",
                explanation: "This definition perfectly describes microeconomics, which focuses on individual economic units such as consumers, firms, and the determination of individual prices in specific markets."
            },
            {
                question: "The study of economy as a whole, including aggregates such as national income and employment, is called:",
                options: ["Welfare economics", "Microeconomics", "Macroeconomics", "Monetary economics"],
                correct: 2,
                category: "identify",
                explanation: "Macroeconomics studies the economy as a whole and deals with aggregate variables like national income, total employment, inflation, and economic growth."
            },
            {
                question: "The approach that splits the whole economy into small units for study is called:",
                options: ["Lumping method", "Slicing method", "General equilibrium", "Marginalism"],
                correct: 1,
                category: "identify",
                explanation: "The slicing method is the approach used in microeconomics where the economy is divided or 'sliced' into smaller units (individual consumers, firms, markets) for detailed analysis."
            },
            {
                question: "The principle which studies changes in total by an additional unit is:",
                options: ["Efficiency analysis", "Marginalism", "Aggregation", "Business cycles"],
                correct: 1,
                category: "identify",
                explanation: "Marginalism is the economic principle that analyzes the effect of adding one additional unit (marginal benefit, marginal cost, marginal utility) to understand optimal decision-making."
            },
            {
                question: "The analysis that looks at equilibrium of the whole economy is called:",
                options: ["Partial equilibrium", "General equilibrium", "Slicing method", "Price theory"],
                correct: 1,
                category: "identify",
                explanation: "General equilibrium analysis examines the equilibrium of all markets simultaneously across the entire economy, considering the interdependence of all economic variables."
            },
            {
                question: "The term used for overall maximization of satisfaction in society through efficient resource allocation is:",
                options: ["Economic welfare", "Economic growth", "Economic fluctuations", "Factor pricing"],
                correct: 0,
                category: "identify",
                explanation: "Economic welfare refers to the overall well-being of society achieved through efficient allocation of resources to maximize total satisfaction or utility."
            },

            // Correlation Questions (6)
            {
                question: "Micro economics : Slicing method :: Macro economics : ?",
                options: ["Splitting method", "General equilibrium", "Lumping method", "Market equilibrium"],
                correct: 2,
                category: "correlation",
                explanation: "Just as microeconomics uses the slicing method to divide the economy into individual units, macroeconomics uses the lumping method (or aggregative method) to combine individual units into aggregates."
            },
            {
                question: "Micro economics : Individual income :: Macro economics : ?",
                options: ["Individual wealth", "National income", "Personal savings", "Individual demand"],
                correct: 1,
                category: "correlation",
                explanation: "Microeconomics studies individual income (income of a person or household), while macroeconomics studies national income (total income of all individuals in the economy)."
            },
            {
                question: "Macro economic theory : Income and employment :: Micro economics : ?",
                options: ["Product pricing", "Business cycles", "National output", "General price level"],
                correct: 0,
                category: "correlation",
                explanation: "Just as macroeconomic theory deals with income and employment at the aggregate level, microeconomics deals with product pricing at the individual market level."
            },
            {
                question: "Makros : Macro economics :: Mikros : ?",
                options: ["Micro economics", "Economic welfare", "Business cycles", "Investment theory"],
                correct: 0,
                category: "correlation",
                explanation: "The Greek word 'Makros' (meaning large) is the root of macroeconomics, while 'Mikros' (meaning small) is the root of microeconomics."
            },
            {
                question: "General equilibrium : Macro economics :: Partial equilibrium : ?",
                options: ["Micro economics", "National income accounting", "Economic welfare", "Aggregate demand"],
                correct: 0,
                category: "correlation",
                explanation: "General equilibrium is used in macroeconomics to study the entire economy, while partial equilibrium is used in microeconomics to study individual markets or sectors."
            },
            {
                question: "Theory of Income and Employment : Macro economics :: Theory of Product Pricing : ?",
                options: ["Micro economics", "Monetary economics", "Welfare economics", "Economic growth theory"],
                correct: 0,
                category: "correlation",
                explanation: "Theory of Income and Employment is a key area of macroeconomics, while Theory of Product Pricing is a fundamental area of microeconomics."
            }
        ];

        // Quiz state variables
        let currentQuestion = 0;
        let userAnswers = [];
        let quizStarted = false;
        let quizCompleted = false;
        let currentPlayerName = '';

        // DOM elements
        let startScreen, quizContainer, resultsScreen, leaderboardScreen;
        let progressBar, progressText, questionNumber, categoryBadge, questionText, optionsContainer;
        let prevBtn, nextBtn, playerNameInput;

        // Show/hide pages
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            document.getElementById(pageId).classList.add('active');
        }

        // Admin reset system with secure code
        function showAdminReset() {
            const modalOverlay = document.createElement('div');
            modalOverlay.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.85);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 1000;
                backdrop-filter: blur(5px);
            `;

            const modal = document.createElement('div');
            modal.style.cssText = `
                background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
                border: 2px solid rgba(239, 68, 68, 0.5);
                border-radius: 20px;
                padding: 30px;
                text-align: center;
                color: white;
                box-shadow: 0 25px 50px rgba(0, 0, 0, 0.9), inset 0 1px 0 rgba(255, 255, 255, 0.1);
                max-width: 450px;
                width: 90%;
                animation: modalSlideIn 0.3s ease-out;
            `;

            modal.innerHTML = `
                <div style="margin-bottom: 25px;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #ef4444, #dc2626); 
                                border-radius: 50%; display: flex; align-items: center; justify-content: center; 
                                margin: 0 auto 15px auto; font-size: 24px;">🔒</div>
                    <h3 style="color: #ef4444; margin-bottom: 10px; font-size: 1.5rem;">Admin Access Required</h3>
                    <p style="color: #cbd5e1; margin-bottom: 0;">Enter the reset code to clear all leaderboard scores:</p>
                </div>
                
                <div style="margin: 25px 0;">
                    <input type="password" id="resetCode" placeholder="Enter reset code" 
                           style="width: 100%; padding: 15px; border-radius: 10px; border: 2px solid rgba(239, 68, 68, 0.3); 
                                  background: rgba(239, 68, 68, 0.1); color: white; text-align: center; 
                                  font-size: 16px; font-weight: bold; letter-spacing: 2px;">
                    <div id="codeError" style="color: #ef4444; font-size: 14px; margin-top: 10px; display: none;">
                        ❌ Incorrect code. Access denied.
                    </div>
                </div>
                
                <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                    <button onclick="verifyResetCode()" class="btn btn-danger" 
                            style="min-width: 140px; font-weight: bold;">
                        🗑️ Reset Leaderboard
                    </button>
                    <button onclick="closeResetModal()" class="btn btn-secondary" 
                            style="min-width: 100px;">
                        Cancel
                    </button>
                </div>
                
                <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(239, 68, 68, 0.2);">
                    <p style="font-size: 12px; color: #94a3b8; line-height: 1.4;">
                        ⚠️ <strong>Warning:</strong> This action will permanently delete all player scores and cannot be undone!
                    </p>
                </div>
            `;

            // Add modal animation CSS
            const style = document.createElement('style');
            style.textContent = `
                @keyframes modalSlideIn {
                    from { 
                        opacity: 0; 
                        transform: scale(0.7) translateY(-50px); 
                    }
                    to { 
                        opacity: 1; 
                        transform: scale(1) translateY(0); 
                    }
                }
            `;
            document.head.appendChild(style);

            modalOverlay.appendChild(modal);
            document.body.appendChild(modalOverlay);
            window.currentResetModal = modalOverlay;
            
            const codeInput = document.getElementById('resetCode');
            codeInput.focus();
            codeInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    verifyResetCode();
                }
            });

            // Close modal when clicking outside
            modalOverlay.addEventListener('click', function(e) {
                if (e.target === modalOverlay) {
                    closeResetModal();
                }
            });
        }

        function verifyResetCode() {
            const enteredCode = document.getElementById('resetCode').value.trim();
            const correctCode = "TESSA"; // Change this to your desired code
            const errorDiv = document.getElementById('codeError');
            
            if (enteredCode === correctCode) {
                // Correct code - show final confirmation
                if (confirm('🚨 FINAL WARNING 🚨\n\nYou are about to permanently delete ALL leaderboard scores!\n\nThis action CANNOT be undone.\n\nClick OK to proceed or Cancel to abort.')) {
                    localStorage.removeItem('economicsQuizLeaderboard');
                    closeResetModal();
                    
                    showNotification('✅ Leaderboard has been reset successfully!', 'success');
                    
                    // Refresh leaderboard display if currently viewing it
                    if (document.getElementById('leaderboardScreen').classList.contains('active')) {
                        displayLeaderboard();
                    }
                }
            } else {
                // Wrong code - show error
                errorDiv.style.display = 'block';
                document.getElementById('resetCode').value = '';
                document.getElementById('resetCode').focus();
                
                // Add shake animation to modal
                const modal = window.currentResetModal.querySelector('div');
                modal.style.animation = 'shake 0.5s ease-in-out';
                setTimeout(() => {
                    modal.style.animation = '';
                }, 500);
            }
        }

        function closeResetModal() {
            if (window.currentResetModal) {
                window.currentResetModal.style.animation = 'fadeOut 0.3s ease-in';
                setTimeout(() => {
                    if (document.body.contains(window.currentResetModal)) {
                        document.body.removeChild(window.currentResetModal);
                    }
                    window.currentResetModal = null;
                }, 300);
            }
        }

        function showNotification(message, type) {
            const notification = document.createElement('div');
            const isSuccess = type === 'success';
            
            notification.style.cssText = `
                position: fixed;
                top: 30px;
                right: 30px;
                padding: 20px 25px;
                border-radius: 12px;
                color: white;
                font-weight: bold;
                font-size: 16px;
                z-index: 1001;
                box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
                background: ${isSuccess ? 
                    'linear-gradient(135deg, #22c55e, #16a34a)' : 
                    'linear-gradient(135deg, #ef4444, #dc2626)'};
                border: 1px solid ${isSuccess ? '#16a34a' : '#dc2626'};
                animation: slideIn 0.4s ease-out;
                max-width: 300px;
                text-align: center;
            `;
            
            notification.innerHTML = `
                <div style="display: flex; align-items: center; gap: 10px; justify-content: center;">
                    <span style="font-size: 20px;">${isSuccess ? '✅' : '❌'}</span>
                    <span>${message}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Auto remove after 4 seconds
            setTimeout(() => {
                notification.style.animation = 'slideOut 0.4s ease-in';
                setTimeout(() => {
                    if (document.body.contains(notification)) {
                        document.body.removeChild(notification);
                    }
                }, 400);
            }, 4000);
        }

        // Add shake animation for wrong code
        const shakeStyle = document.createElement('style');
        shakeStyle.textContent = `
            @keyframes shake {
                0%, 100% { transform: translateX(0); }
                10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
                20%, 40%, 60%, 80% { transform: translateX(5px); }
            }
            @keyframes fadeOut {
                from { opacity: 1; transform: scale(1); }
                to { opacity: 0; transform: scale(0.8); }
            }
        `;
        document.head.appendChild(shakeStyle);

        // Secret key combination (type "RESET" to trigger admin panel)
        let keySequence = [];
        const secretKeys = ['KeyR', 'KeyE', 'KeyS', 'KeyE', 'KeyT'];

        document.addEventListener('keydown', function(e) {
            keySequence.push(e.code);
            
            if (keySequence.length > secretKeys.length) {
                keySequence.shift();
            }
            
            if (keySequence.length === secretKeys.length && 
                keySequence.every((key, index) => key === secretKeys[index])) {
                
                showAdminReset();
                keySequence = [];
            }
        });

        // Leaderboard functions
        function saveScore(name, score, percentage, grade, correctAnswers, totalQuestions) {
            const scores = getLeaderboardData();
            const newScore = {
                name: name || 'Anonymous',
                score: correctAnswers,
                totalQuestions: totalQuestions,
                percentage: percentage,
                grade: grade,
                date: new Date().toLocaleDateString(),
                timestamp: Date.now()
            };
            
            scores.push(newScore);
            
            // Sort by score (descending), then by percentage, then by timestamp (most recent first)
            scores.sort((a, b) => {
                if (b.score !== a.score) return b.score - a.score;
                if (b.percentage !== a.percentage) return b.percentage - a.percentage;
                return b.timestamp - a.timestamp;
            });
            
            // Keep only top 10 scores
            const topScores = scores.slice(0, 10);
            
            localStorage.setItem('economicsQuizLeaderboard', JSON.stringify(topScores));
            return topScores;
        }

        function getLeaderboardData() {
            const stored = localStorage.getItem('economicsQuizLeaderboard');
            return stored ? JSON.parse(stored) : [];
        }

        function displayLeaderboard() {
            const scores = getLeaderboardData();
            const container = document.getElementById('leaderboardContainer');
            
            if (scores.length === 0) {
                container.innerHTML = `
                    <div class="no-scores-message">
                        <p>🎯 No scores yet! Be the first to take the quiz and set a record!</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = scores.map((score, index) => {
                const rankClass = index === 0 ? 'gold' : index === 1 ? 'silver' : index === 2 ? 'bronze' : '';
                const isPersonalBest = score.name === currentPlayerName;
                
                return `
                    <div class="leaderboard-entry ${isPersonalBest ? 'current-user' : ''}">
                        <div class="leaderboard-rank ${rankClass}">
                            ${index + 1}
                        </div>
                        <div class="leaderboard-info">
                            <div class="leaderboard-name">${score.name}</div>
                            <div class="leaderboard-details">
                                ${score.score}/${score.totalQuestions} correct • ${score.percentage}% • Grade: ${score.grade} • ${score.date}
                            </div>
                        </div>
                        <div class="leaderboard-score">
                            ${score.percentage}%
                        </div>
                    </div>
                `;
            }).join('');
        }

        function showLeaderboard() {
            showPage('leaderboardScreen');
            displayLeaderboard();
        }

        function hideLeaderboard() {
            showPage('startScreen');
        }

        // Start the quiz
        function startQuiz() {
            const name = playerNameInput.value.trim();
            if (!name) {
                alert('Please enter your name before starting the quiz!');
                playerNameInput.focus();
                return;
            }
            
            currentPlayerName = name;
            quizStarted = true;
            userAnswers = new Array(quizData.length).fill(null);
            currentQuestion = 0;
            
            // Hide start screen and show quiz container
            startScreen.classList.remove('active');
            quizContainer.classList.add('active');
            
            // Initialize question display
            displayQuestion();
            
            // Update progress
            progressBar.style.width = '0%';
            progressText.textContent = '1 / ' + quizData.length;
        }

        // Display current question
        function displayQuestion() {
            if (!quizStarted) return;
            
            const question = quizData[currentQuestion];
            if (!question) return;
            
            questionNumber.textContent = `Question ${currentQuestion + 1} of ${quizData.length}`;
            
            // Set category badge
            const categoryNames = {
                'mcq': 'MCQ',
                'odd': 'Odd One Out',
                'identify': 'Identify the Term',
                'correlation': 'Correlation'
            };
            categoryBadge.textContent = categoryNames[question.category] || 'MCQ';
            categoryBadge.className = `category-badge category-${question.category}`;
            
            // Set question text
            questionText.innerHTML = question.question;
            
            // Update progress
            const progress = ((currentQuestion + 1) / quizData.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressText.textContent = `${currentQuestion + 1} / ${quizData.length}`;
            
            // Display options
            optionsContainer.innerHTML = '';
            question.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.innerHTML = `
                    <div class="option-letter">${String.fromCharCode(65 + index)}</div>
                    <div>${option}</div>
                `;
                
                // Check if this option was previously selected
                if (userAnswers[currentQuestion] === index) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionElement);
            });
            
            // Update navigation buttons
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.disabled = userAnswers[currentQuestion] === null;
            nextBtn.textContent = currentQuestion === quizData.length - 1 ? 'Finish Quiz' : 'Next';
        }

        // Select an option
        function selectOption(selectedIndex) {
            userAnswers[currentQuestion] = selectedIndex;
            
            // Update visual feedback
            const options = optionsContainer.querySelectorAll('.option');
            options.forEach((option, index) => {
                option.classList.remove('selected');
                if (index === selectedIndex) {
                    option.classList.add('selected');
                }
            });
            
            // Enable next button
            nextBtn.disabled = false;
        }

        // Go to previous question
        function previousQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                displayQuestion();
            }
        }

        // Go to next question or finish quiz
        function nextQuestion() {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                displayQuestion();
            } else {
                finishQuiz();
            }
        }

        // Finish the quiz and show results
        function finishQuiz() {
            quizCompleted = true;
            showPage('resultsScreen');
            calculateAndDisplayResults();
        }

        // Calculate score and display results
        function calculateAndDisplayResults() {
            let correctAnswers = 0;
            let incorrectAnswers = 0;

            // Calculate correct answers
            for (let i = 0; i < quizData.length; i++) {
                if (userAnswers[i] === quizData[i].correct) {
                    correctAnswers++;
                } else {
                    incorrectAnswers++;
                }
            }

            const percentage = Math.round((correctAnswers / quizData.length) * 100);
            
            // Determine grade
            let grade;
            if (percentage >= 90) grade = 'A+';
            else if (percentage >= 80) grade = 'A';
            else if (percentage >= 70) grade = 'B';
            else if (percentage >= 60) grade = 'C';
            else if (percentage >= 50) grade = 'D';
            else grade = 'F';

            // Display results
            document.getElementById('finalScore').textContent = `${correctAnswers}/${quizData.length}`;
            document.getElementById('correctCount').textContent = correctAnswers;
            document.getElementById('incorrectCount').textContent = incorrectAnswers;
            document.getElementById('percentageScore').textContent = `${percentage}%`;
            document.getElementById('gradeDisplay').textContent = grade;

            // Performance message
            let message;
            if (percentage >= 90) {
                message = "🌟 Outstanding! You have excellent knowledge of economics concepts!";
            } else if (percentage >= 80) {
                message = "🎉 Great job! You have a strong understanding of economics!";
            } else if (percentage >= 70) {
                message = "👍 Good work! You have a solid grasp of the material!";
            } else if (percentage >= 60) {
                message = "📚 Fair performance. Consider reviewing the material for better understanding.";
            } else if (percentage >= 50) {
                message = "💪 You passed, but there's room for improvement. Keep studying!";
            } else {
                message = "🔄 Keep practicing! Review the material and try again to improve your score.";
            }
            
            document.getElementById('performanceMessage').textContent = message;

            // Save score to leaderboard
            saveScore(currentPlayerName, correctAnswers, percentage, grade, correctAnswers, quizData.length);

            // Update progress bar to 100%
            progressBar.style.width = '100%';
            progressText.textContent = 'Quiz Complete!';
        }

        // Show detailed results
        function showDetailedResults() {
            const detailedResults = document.getElementById('detailedResults');
            const container = document.getElementById('answerReviewContainer');
            
            detailedResults.classList.toggle('hidden');
            
            if (!detailedResults.classList.contains('hidden')) {
                container.innerHTML = '';
                
                quizData.forEach((question, index) => {
                    const isCorrect = userAnswers[index] === question.correct;
                    const userAnswer = userAnswers[index];
                    
                    const reviewDiv = document.createElement('div');
                    reviewDiv.className = `answer-review ${isCorrect ? 'correct' : 'incorrect'}`;
                    
                    reviewDiv.innerHTML = `
                        <div class="review-question">
                            <span class="${isCorrect ? 'status-correct' : 'status-incorrect'}">
                                ${isCorrect ? '✓ CORRECT' : '✗ INCORRECT'}
                            </span>
                            Q${index + 1}: ${question.question}
                        </div>
                        <div class="review-answer">
                            Your answer: ${userAnswer !== null ? question.options[userAnswer] : 'No answer selected'}<br>
                            Correct answer: ${question.options[question.correct]}
                        </div>
                        <div class="review-explanation">
                            💡 ${question.explanation}
                        </div>
                    `;
                    
                    container.appendChild(reviewDiv);
                });
            }
        }

        // Restart the quiz
        function restartQuiz() {
            currentQuestion = 0;
            userAnswers = [];
            quizStarted = false;
            quizCompleted = false;
            
            showPage('startScreen');
            
            // Reset progress bar
            progressBar.style.width = '0%';
            progressText.textContent = `0 / ${quizData.length}`;
            
            // Clear the name input for new player
            playerNameInput.value = '';
            currentPlayerName = '';
            
            // Hide detailed results
            document.getElementById('detailedResults').classList.add('hidden');
        }

        // Initialize the quiz when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Assign DOM elements to the variables
            startScreen = document.getElementById('startScreen');
            quizContainer = document.getElementById('quizContainer');
            resultsScreen = document.getElementById('resultsScreen');
            leaderboardScreen = document.getElementById('leaderboardScreen');
            progressBar = document.getElementById('progressBar');
            progressText = document.getElementById('progressText');
            questionNumber = document.getElementById('questionNumber');
            categoryBadge = document.getElementById('categoryBadge');
            questionText = document.getElementById('questionText');
            optionsContainer = document.getElementById('optionsContainer');
            prevBtn = document.getElementById('prevBtn');
            nextBtn = document.getElementById('nextBtn');
            playerNameInput = document.getElementById('playerName');

            // Reset any existing state
            currentQuestion = 0;
            userAnswers = [];
            quizStarted = false;
            quizCompleted = false;
            currentPlayerName = '';

            // Allow Enter key to start quiz
            playerNameInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    startQuiz();
                }
            });
            
            // Focus on name input
            playerNameInput.focus();
        });
    </script>
</body>
</html>
