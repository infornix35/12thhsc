<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Marketing Quiz</title>
    <style>
        :root {
            --bg-dark: #0f172a;
            --surface: #1e293b;
            --primary: #3b82f6;
            --primary-light: #60a5fa;
            --text-light: #cbd5e1;
            --text-dark: #94a3b8;
            --correct: #22c55e;
            --incorrect: #ef4444;
            --warning: #f59e0b;
        }
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, #1e293b 100%);
            color: var(--text-light);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container { 
            width: 100%; 
            max-width: 700px; 
        }
        
        .quiz-card {
            background: var(--surface);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3), 0 1px 8px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
        }
        
        .page { 
            display: none; 
        }
        
        .page.active { 
            display: block; 
            animation: fadeIn 0.5s ease; 
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(10px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        h1 {
            font-size: 2.2rem;
            font-weight: 700;
            text-align: center;
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        
        h3 {
            margin-bottom: 15px;
            color: var(--primary-light);
        }
        
        p { 
            color: var(--text-dark); 
            text-align: center; 
            margin-bottom: 25px; 
            line-height: 1.5;
        }
        
        .btn-grid { 
            display: flex; 
            justify-content: center; 
            gap: 15px; 
            flex-wrap: wrap; 
        }
        
        .btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        .btn:hover:not(:disabled) { 
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }
        
        .btn:active:not(:disabled) {
            transform: translateY(0);
        }
        
        .btn.secondary { 
            background: linear-gradient(135deg, #334155, #475569);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .btn.secondary:hover:not(:disabled) { 
            background: linear-gradient(135deg, #475569, #64748b);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .btn.danger {
            background: linear-gradient(135deg, var(--incorrect), #dc2626);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        .btn.danger:hover:not(:disabled) {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }
        
        .btn:disabled { 
            background: #475569;
            cursor: not-allowed; 
            opacity: 0.6;
            transform: none;
            box-shadow: none;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px 16px;
            background-color: var(--bg-dark);
            border: 2px solid #334155;
            border-radius: 8px;
            color: white;
            text-align: center;
            margin-top: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .progress-container { 
            background-color: #334155; 
            border-radius: 99px; 
            padding: 4px; 
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar { 
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            height: 10px; 
            border-radius: 99px; 
            transition: width 0.4s ease;
            min-width: 0;
        }
        
        .question-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .badge { 
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            padding: 6px 14px; 
            border-radius: 20px; 
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: capitalize;
        }
        
        .question-text { 
            font-size: 1.25rem; 
            margin-bottom: 25px; 
            line-height: 1.6;
            color: var(--text-light);
        }
        
        .options-container { 
            display: grid; 
            gap: 12px; 
            margin-bottom: 25px; 
        }
        
        .option {
            background: rgba(59, 130, 246, 0.05);
            border: 2px solid #334155;
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex; 
            align-items: center; 
            gap: 12px;
        }
        
        .option:hover { 
            border-color: var(--primary);
            background: rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }
        
        .option.selected { 
            border-color: var(--primary-light);
            background: rgba(59, 130, 246, 0.2);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }
        
        .option.multi-selected { 
            border-color: var(--correct);
            background: rgba(34, 197, 94, 0.15);
            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.2);
        }
        
        .option-letter {
            width: 32px; 
            height: 32px; 
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: 700;
            flex-shrink: 0;
            font-size: 0.9rem;
        }
        
        .results-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); 
            gap: 20px; 
            text-align: center; 
            margin: 25px 0; 
        }
        
        .result-item {
            background: rgba(59, 130, 246, 0.1);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
        
        .result-item h3 { 
            font-size: 2.2rem; 
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        #correctCount { color: var(--correct); }
        #incorrectCount { color: var(--incorrect); }
        
        .answer-review { 
            border-left: 4px solid #334155; 
            padding: 15px; 
            margin-bottom: 12px; 
            background: rgba(0,0,0,0.1); 
            border-radius: 0 8px 8px 0;
        }
        
        .answer-review.correct { 
            border-left-color: var(--correct);
            background: rgba(34, 197, 94, 0.1);
        }
        
        .answer-review.incorrect { 
            border-left-color: var(--incorrect);
            background: rgba(239, 68, 68, 0.1);
        }
        
        .match-table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 15px 0; 
            font-size: 0.9rem;
            background: var(--bg-dark);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .match-table td { 
            border: 1px solid #334155; 
            padding: 12px;
            vertical-align: top;
        }
        
        .match-table tr:nth-child(even) {
            background: rgba(59, 130, 246, 0.05);
        }
        
        .leaderboard-entry { 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            padding: 15px; 
            border-radius: 8px; 
            transition: all 0.3s ease;
            margin-bottom: 8px;
            background: rgba(59, 130, 246, 0.05);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }
        
        .leaderboard-entry:hover { 
            background: rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }
        
        .leaderboard-rank {
            font-weight: 700;
            color: var(--primary-light);
            margin-right: 10px;
        }
        
        .leaderboard-score {
            background: var(--primary);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .hidden { 
            display: none !important; 
        }
        
        .error-message {
            color: var(--incorrect);
            font-size: 0.9rem;
            margin-top: 5px;
            text-align: center;
        }
        
        .success-message {
            color: var(--correct);
            font-size: 0.9rem;
            margin-top: 5px;
            text-align: center;
        }
        
        @media (max-width: 640px) {
            .container {
                padding: 10px;
            }
            
            .quiz-card {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .question-header {
                flex-direction: column;
                text-align: center;
            }
            
            .results-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }

        /* Animation styles for modal and notifications */
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        @keyframes modalSlideIn {
            from { 
                opacity: 0; 
                transform: scale(0.7) translateY(-50px); 
            }
            to { 
                opacity: 1; 
                transform: scale(1) translateY(0); 
            }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        @keyframes fadeOut {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.8); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Start Screen -->
        <div id="startScreen" class="quiz-card page active">
            <h1>üéØ Digital Marketing Quiz</h1>
            <p>Test your knowledge of Digital Marketing concepts including SEO, Analytics, and more!</p>
            <input type="text" id="playerName" placeholder="Enter your name..." maxlength="20" required>
            <div id="nameError" class="error-message hidden">Please enter your name to continue</div>
            <div class="btn-grid" style="margin-top: 20px;">
                <button class="btn" onclick="startQuiz()">üöÄ Start Quiz</button>
            </div>
            <div class="btn-grid" style="margin-top: 15px;">
                <button class="btn secondary" onclick="showLeaderboard()">üèÜ Leaderboard</button>
                <button class="btn secondary" onclick="showInstructions()">üìã Instructions</button>
            </div>
        </div>

        <!-- Instructions Screen -->
        <div id="instructionsScreen" class="quiz-card page">
            <h1>üìã Quiz Instructions</h1>
            <div style="text-align: left; margin: 20px 0;">
                <h3>Question Types:</h3>
                <ul style="margin-left: 20px; margin-bottom: 20px;">
                    <li><strong>Single Choice:</strong> Select one correct answer</li>
                    <li><strong>Multiple Choice:</strong> Select exactly two correct answers</li>
                    <li><strong>True/False:</strong> Choose True or False</li>
                    <li><strong>Matching:</strong> Match items correctly</li>
                </ul>
                
                <h3>Scoring:</h3>
                <ul style="margin-left: 20px; margin-bottom: 20px;">
                    <li>Each question is worth 1 point</li>
                    <li>Total: 40 questions</li>
                    <li>Passing score: 24+ points (60%)</li>
                </ul>
                
                <h3>Topics Covered:</h3>
                <ul style="margin-left: 20px;">
                    <li>Digital Marketing Channels</li>
                    <li>SEO Techniques and Tools</li>
                    <li>Analytics and Metrics</li>
                    <li>Content Marketing</li>
                </ul>
            </div>
            <div class="btn-grid">
                <button class="btn secondary" onclick="showPage('startScreen')">‚Üê Back</button>
                <button class="btn" onclick="startQuiz()">üöÄ Start Quiz</button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quizScreen" class="quiz-card page">
            <div class="progress-container">
                <div id="progressBar" class="progress-bar"></div>
            </div>
            <div class="question-header">
                <span id="questionCounter"></span>
                <span id="categoryBadge" class="badge"></span>
            </div>
            <div id="questionText" class="question-text"></div>
            <div id="optionsContainer" class="options-container"></div>
            <div class="btn-grid">
                <button id="prevBtn" class="btn secondary" onclick="previousQuestion()">‚Üê Previous</button>
                <button id="nextBtn" class="btn" onclick="nextQuestion()">Next ‚Üí</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="quiz-card page">
            <h1>üéâ Quiz Complete!</h1>
            <div class="results-grid">
                <div class="result-item">
                    <h3 id="finalScore">0/40</h3>
                    <p>Score</p>
                </div>
                <div class="result-item">
                    <h3 id="percentageScore">0%</h3>
                    <p>Percentage</p>
                </div>
                <div class="result-item">
                    <h3 id="correctCount">0</h3>
                    <p>Correct</p>
                </div>
                <div class="result-item">
                    <h3 id="incorrectCount">0</h3>
                    <p>Incorrect</p>
                </div>
            </div>
            <p id="performanceMessage" style="margin-bottom:20px; font-size: 1.2rem; font-weight: 600;"></p>
            <div class="btn-grid">
                <button class="btn" onclick="toggleDetailedResults()">üìä View Answers</button>
                <button class="btn secondary" onclick="restartQuiz()">üîÑ Take Again</button>
                <button class="btn secondary" onclick="showLeaderboard()">üèÜ Leaderboard</button>
            </div>
            <div id="detailedResults" class="hidden" style="margin-top: 25px;"></div>
        </div>
        
        <!-- Leaderboard Screen -->
        <div id="leaderboardScreen" class="quiz-card page">
            <h1>üèÜ Leaderboard</h1>
            <p>Top 10 scores from all players</p>
            <div id="leaderboardContainer" style="margin: 25px 0;"></div>
            <div class="btn-grid">
                <button class="btn secondary" onclick="hideLeaderboard()">‚Üê Back</button>
                <button class="btn danger" onclick="showAdminReset()">üîí Reset Scores</button>
            </div>
        </div>
    </div>

<script>
    const quizData = [
        // Part A: Single Choice MCQs (15)
        {
            question: "Digital marketing primarily makes use of",
            options: ["Print ads", "Search engines", "Direct mail", "Door-to-door sales"],
            correct: 1,
            type: "single",
            explanation: "Digital marketing primarily uses search engines as they provide online visibility, targeted reach, and measurable results. Unlike traditional methods like print ads or direct mail, search engines form the backbone of digital marketing strategies."
        },
        {
            question: "Which of these is NOT a channel in digital marketing?",
            options: ["TV commercials", "SEO", "Email marketing", "Social Media Marketing"],
            correct: 0,
            type: "single",
            explanation: "TV commercials are traditional media advertising, not digital marketing. Digital marketing channels include SEO (search optimization), email marketing (digital communication), and social media marketing (online platforms)."
        },
        {
            question: "The unpaid results shown in search engines are called",
            options: ["Paid search", "Organic search", "Sponsored results", "Referral search"],
            correct: 1,
            type: "single",
            explanation: "Organic search results are the unpaid listings that appear naturally based on relevance and SEO optimization. Paid search and sponsored results require payment, while referral search is not a standard search engine term."
        },
        {
            question: "A program that gathers webpage data for search engines is known as",
            options: ["Optimizer", "Reader", "Crawler", "Filter"],
            correct: 2,
            type: "single",
            explanation: "A crawler (also called spider or bot) is an automated program that systematically browses the web to collect and index webpage data for search engines. It's essential for search engine indexing."
        },
        {
            question: "Black Hat SEO tactics lead to",
            options: ["Higher trust from Google", "Risk of blacklisting", "Better customer reviews", "Enhanced user experience"],
            correct: 1,
            type: "single",
            explanation: "Black Hat SEO uses unethical tactics that violate search engine guidelines, leading to penalties and potential blacklisting. These practices harm rather than help long-term search rankings."
        },
        {
            question: "Which of the following is an example of long-tail keyword?",
            options: ["Shoes", "Cheap shoes", "Blue running shoes for men", "Product"],
            correct: 2,
            type: "single",
            explanation: "Long-tail keywords are specific, detailed phrases with 3+ words like 'Blue running shoes for men'. They have lower search volume but higher conversion rates compared to short, generic terms like 'shoes'."
        },
        {
            question: "To check website traffic, the most widely used tool is",
            options: ["eBay", "Google Analytics", "Google Drive", "Flipkart Analytics"],
            correct: 1,
            type: "single",
            explanation: "Google Analytics is the most widely used web analytics tool that provides comprehensive traffic data, user behavior insights, and conversion tracking. The other options are not analytics tools."
        },
        {
            question: "A technique focusing on optimizing website's HTML and visible content is",
            options: ["Off-Page SEO", "Technical SEO", "On-Page SEO", "Social Media Marketing"],
            correct: 2,
            type: "single",
            explanation: "On-Page SEO focuses on optimizing elements within your website including HTML tags, content, titles, and meta descriptions. Off-Page SEO deals with external factors, while Technical SEO handles backend issues."
        },
        {
            question: "The paid advertisement on search pages is identified by the word",
            options: ["Organic", "Sponsored/Ad", "Prime", "Published"],
            correct: 1,
            type: "single",
            explanation: "Paid advertisements on search results are clearly marked with 'Sponsored', 'Ad', or similar labels to distinguish them from organic results, ensuring transparency for users."
        },
        {
            question: "White Hat SEO focuses on",
            options: ["Manipulating search engines", "Ethical user experience", "Copying others", "Buying backlinks"],
            correct: 1,
            type: "single",
            explanation: "White Hat SEO emphasizes ethical practices that improve user experience while following search engine guidelines. It focuses on quality content, proper optimization, and legitimate link building."
        },
        {
            question: "Flash use on websites should be avoided because",
            options: ["Search engines can't index it", "It's too bright", "It loads too fast", "It's free"],
            correct: 0,
            type: "single",
            explanation: "Flash content cannot be properly indexed by search engines, making it invisible for SEO purposes. Additionally, Flash is not supported on many modern devices and browsers."
        },
        {
            question: "The analysis of how a webpage performs regarding speed and file size falls under",
            options: ["Link building", "Page speed info", "Social bookmarking", "Email marketing"],
            correct: 1,
            type: "single",
            explanation: "Page speed analysis measures website performance including load times, file sizes, and optimization opportunities. It's crucial for both user experience and search engine rankings."
        },
        {
            question: "'Acquisition', 'Behavior', and 'Conversion' are stages of",
            options: ["Keyword planning", "Buying Funnel", "Backlinking", "Tagging"],
            correct: 1,
            type: "single",
            explanation: "The buying funnel represents the customer journey: Acquisition (attracting visitors), Behavior (how they interact), and Conversion (desired actions). This framework helps analyze and optimize marketing strategies."
        },
        {
            question: "The main goal of content marketing is",
            options: ["Improving site speed", "Generating brand awareness and leads", "Getting backlinks only", "Hiding information"],
            correct: 1,
            type: "single",
            explanation: "Content marketing aims to create valuable, relevant content to attract and engage audiences, ultimately generating brand awareness and qualified leads. It's about providing value rather than direct selling."
        },
        {
            question: "A keyword like 'Compression Springs for Industrial Use' represents which type of keyword?",
            options: ["Brand keyword", "Short tail", "Long tail", "Negative keyword"],
            correct: 2,
            type: "single",
            explanation: "This is a long-tail keyword because it's highly specific with multiple words targeting a niche audience. Long-tail keywords typically have lower competition and higher conversion rates."
        },

        // Part B: Two Correct Options (15)
        {
            question: "Two important channels in Digital Marketing are",
            options: ["TV", "Social Media", "SEO", "Door-to-door sales"],
            correct: [1, 2],
            type: "multi",
            explanation: "Social Media and SEO are core digital marketing channels. Social Media enables direct audience engagement and brand building, while SEO drives organic traffic from search engines. TV and door-to-door sales are traditional marketing methods."
        },
        {
            question: "SEO strategies are categorized as",
            options: ["Email SEO", "On-Page SEO", "Technical SEO", "Guest SEO"],
            correct: [1, 2],
            type: "multi",
            explanation: "On-Page SEO (optimizing content and HTML elements) and Technical SEO (site structure, speed, mobile-friendliness) are the main SEO categories. Email SEO and Guest SEO are not standard SEO categorizations."
        },
        {
            question: "Tools for SEO Audit include",
            options: ["SEOptimer", "Microsoft Word", "WooRank", "Windows Firewall"],
            correct: [0, 2],
            type: "multi",
            explanation: "SEOptimer and WooRank are specialized SEO audit tools that analyze website performance, technical issues, and optimization opportunities. Microsoft Word and Windows Firewall are not SEO tools."
        },
        {
            question: "In Analytics, 'Users' and 'Sessions' refer to",
            options: ["Unique visitors", "Number of interactions", "Keywords", "Image sizes"],
            correct: [0, 1],
            type: "multi",
            explanation: "In web analytics, 'Users' represents unique visitors to your site, while 'Sessions' counts the number of interaction periods. These are fundamental metrics for understanding website traffic and engagement."
        },
        {
            question: "Friendly URLs and Backlinks are considered useful for",
            options: ["SEO", "Content creation", "Tag design", "Device rendering"],
            correct: [0, 1],
            type: "multi",
            explanation: "Friendly URLs improve SEO by making pages more accessible to search engines and users. Both friendly URLs and backlinks also support content creation by improving content discoverability and authority."
        },
        {
            question: "The two main SEO techniques are",
            options: ["White Hat SEO", "Link Buying", "Black Hat SEO", "Doorway pages"],
            correct: [0, 2],
            type: "multi",
            explanation: "White Hat SEO (ethical practices) and Black Hat SEO (unethical practices) are the two main approaches. Link buying and doorway pages are specific Black Hat tactics, not broad techniques."
        },
        {
            question: "Effective On-Page SEO practices involve",
            options: ["Meta tags", "Alt attributes for images", "Spamming forums", "Cloaking"],
            correct: [0, 1],
            type: "multi",
            explanation: "Meta tags and alt attributes for images are legitimate On-Page SEO practices that improve search engine understanding and accessibility. Spamming forums and cloaking are Black Hat tactics."
        },
        {
            question: "Essential analytics metrics for measuring website popularity:",
            options: ["Active users", "Bounce rate", "Phone calls", "Pop-up count"],
            correct: [0, 1],
            type: "multi",
            explanation: "Active users show website engagement levels, while bounce rate indicates content relevance and user satisfaction. Phone calls and pop-up counts are not standard website popularity metrics."
        },
        {
            question: "Google Analytics helps to analyze",
            options: ["Traffic", "Conversion", "Flash usage", "Keyboard shortcuts"],
            correct: [0, 1],
            type: "multi",
            explanation: "Google Analytics primarily tracks website traffic (visitor data) and conversions (goal completions). It doesn't monitor Flash usage details or keyboard shortcuts."
        },
        {
            question: "Technical SEO includes checking for",
            options: ["Site speed", "Mobile friendliness", "H1 tags", "Price tags"],
            correct: [0, 1],
            type: "multi",
            explanation: "Technical SEO focuses on site infrastructure including site speed and mobile friendliness. While H1 tags are important, they're more On-Page SEO. Price tags are not SEO-related."
        },
        {
            question: "The following can optimize website content for SEO:",
            options: ["Using relevant keywords", "Optimizing heading tags", "Posting random images", "Ignoring meta descriptions"],
            correct: [0, 1],
            type: "multi",
            explanation: "Using relevant keywords and optimizing heading tags are fundamental SEO content practices. Posting random images and ignoring meta descriptions harm SEO optimization."
        },
        {
            question: "Googlebot performs",
            options: ["Crawling", "Indexing", "Shopping", "Analytics"],
            correct: [0, 1],
            type: "multi",
            explanation: "Googlebot crawls web pages to discover content and indexes them in Google's database for search results. It doesn't perform shopping or analytics functions."
        },
        {
            question: "Acquisition in Digital Analytics means:",
            options: ["Knowing about your website", "Generating customer interest", "Calculating bounce rate", "Posting videos"],
            correct: [0, 1],
            type: "multi",
            explanation: "Acquisition in analytics refers to how users discover your website (knowing about it) and the process of generating customer interest. Bounce rate calculation and posting videos are different activities."
        },
        {
            question: "Off-page SEO includes",
            options: ["Link building", "Social media shares", "Tag coloring", "Page speed"],
            correct: [0, 1],
            type: "multi",
            explanation: "Off-page SEO involves external factors like link building (getting other sites to link to you) and social media shares (external engagement). Tag coloring and page speed are on-page/technical factors."
        },
        {
            question: "Secure websites are checked for",
            options: ["SSL", "Malware", "Email marketing", "Bounce rate"],
            correct: [0, 1],
            type: "multi",
            explanation: "Website security involves checking for SSL certificates (encrypted connections) and malware protection. Email marketing and bounce rate are not security concerns."
        },

        // Part C: Match the Column (3)
        {
            question: "Match the following digital marketing terms with their definitions:",
            type: "match",
            options: ["1-a, 2-b, 3-c, 4-d, 5-e, 6-f", "1-b, 2-a, 3-d, 4-c, 5-f, 6-e", "1-c, 2-d, 3-a, 4-b, 5-e, 6-f", "1-f, 2-e, 3-b, 4-a, 5-c, 6-d"],
            correct: 0,
            explanation: "Correct matching: Crawler collects webpage data (1-a), Long tail keywords are specific phrases like 'Best blue running shoes for men' (2-b), On-Page SEO deals with HTML tags and titles (3-c), Google Analytics tracks website traffic (4-d), Robots.txt controls page access (5-e), and Technical SEO handles site speed and mobile compatibility (6-f).",
            matchData: {
                columnA: ["1. Crawler", "2. Long tail keyword", "3. On-Page SEO", "4. Google Analytics", "5. Robots.txt", "6. Technical SEO"],
                columnB: ["a. Collects webpage data", "b. 'Best blue running shoes for men'", "c. HTML tags, titles", "d. Tracks website traffic", "e. Page access control", "f. Site speed, mobile compatibility"]
            }
        },
        {
            question: "Match SEO concepts with their applications:",
            type: "match",
            options: ["1-c, 2-a, 3-d, 4-b", "1-a, 2-b, 3-c, 4-d", "1-d, 2-c, 3-b, 4-a", "1-b, 2-d, 3-a, 4-c"],
            correct: 0,
            explanation: "Correct matching: Black Hat SEO involves unethical practices (1-c), White Hat SEO uses ethical optimization (2-a), Keywords are search terms used by users (3-d), and Backlinks are external links pointing to your site (4-b).",
            matchData: {
                columnA: ["1. Black Hat SEO", "2. White Hat SEO", "3. Keywords", "4. Backlinks"],
                columnB: ["a. Ethical optimization", "b. External links to your site", "c. Unethical practices", "d. Search terms used by users"]
            }
        },
        {
            question: "Match digital marketing tools with their primary functions:",
            type: "match",
            options: ["1-b, 2-d, 3-a, 4-c", "1-a, 2-b, 3-c, 4-d", "1-c, 2-a, 3-d, 4-b", "1-d, 2-c, 3-b, 4-a"],
            correct: 0,
            explanation: "Correct matching: Google Analytics analyzes website traffic and user behavior (1-b), SEOptimer provides SEO audit and recommendations (2-d), Social Media platforms enable audience engagement (3-a), and Email Marketing involves direct communication campaigns (4-c).",
            matchData: {
                columnA: ["1. Google Analytics", "2. SEOptimer", "3. Social Media", "4. Email Marketing"],
                columnB: ["a. Audience engagement", "b. Traffic analysis", "c. Direct communication", "d. SEO audit"]
            }
        },

        // Part D: True/False (7)
        {
            question: "Digital marketing always requires a physical marketplace.",
            options: ["True", "False"],
            correct: 1,
            type: "boolean",
            explanation: "False. Digital marketing operates entirely online without requiring physical marketplaces. It uses digital channels like websites, social media, and search engines to reach customers."
        },
        {
            question: "Crawlers are used to collect data from websites for search engines.",
            options: ["True", "False"],
            correct: 0,
            type: "boolean",
            explanation: "True. Crawlers (also called spiders or bots) are automated programs that systematically browse and collect data from websites to build search engine indexes."
        },
        {
            question: "Organic search results require payment to appear.",
            options: ["True", "False"],
            correct: 1,
            type: "boolean",
            explanation: "False. Organic search results are free and appear based on relevance and SEO optimization. Only paid advertisements require payment to appear in search results."
        },
        {
            question: "SEO optimization can be analyzed by Google Analytics.",
            options: ["True", "False"],
            correct: 0,
            type: "boolean",
            explanation: "True. Google Analytics provides valuable SEO insights including organic traffic, keyword performance, page rankings, and user behavior data that help analyze SEO effectiveness."
        },
        {
            question: "Pages ranked high always have the highest file size.",
            options: ["True", "False"],
            correct: 1,
            type: "boolean",
            explanation: "False. High-ranking pages often have optimized file sizes for faster loading. Page speed is a ranking factor, so smaller, optimized files typically perform better in search results."
        },
        {
            question: "Technical SEO helps improve website ranking.",
            options: ["True", "False"],
            correct: 0,
            type: "boolean",
            explanation: "True. Technical SEO improves website infrastructure, speed, mobile-friendliness, and crawlability, which are important ranking factors that help improve search engine positions."
        },
        {
            question: "All paid ads on search engines are marked as 'Sponsored' or 'Ad'.",
            options: ["True", "False"],
            correct: 0,
            type: "boolean",
            explanation: "True. Search engines are required to clearly label paid advertisements with terms like 'Sponsored', 'Ad', or similar markers to distinguish them from organic results for user transparency."
        }
    ];

    let currentQuestionIndex = 0;
    let userAnswers = new Array(quizData.length).fill(null);
    let quizState = 'start';
    let lastState = 'start';
    let playerName = '';
    let quizStartTime = null;
    let quizEndTime = null;
    
    const DOMElements = {
        pages: document.querySelectorAll('.page'),
        startScreen: document.getElementById('startScreen'),
        quizScreen: document.getElementById('quizScreen'),
        resultsScreen: document.getElementById('resultsScreen'),
        leaderboardScreen: document.getElementById('leaderboardScreen'),
        instructionsScreen: document.getElementById('instructionsScreen'),
        progressBar: document.getElementById('progressBar'),
        questionCounter: document.getElementById('questionCounter'),
        categoryBadge: document.getElementById('categoryBadge'),
        questionText: document.getElementById('questionText'),
        optionsContainer: document.getElementById('optionsContainer'),
        prevBtn: document.getElementById('prevBtn'),
        nextBtn: document.getElementById('nextBtn'),
        playerNameInput: document.getElementById('playerName'),
        nameError: document.getElementById('nameError')
    };
    
    // Initialize event listeners
    document.addEventListener('DOMContentLoaded', function() {
        DOMElements.playerNameInput.addEventListener('input', function() {
            DOMElements.nameError.classList.add('hidden');
        });
        
        DOMElements.playerNameInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                startQuiz();
            }
        });
    });

    // Admin reset system with secure code protection
    function showAdminReset() {
        const modalOverlay = document.createElement('div');
        modalOverlay.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        `;

        const modal = document.createElement('div');
        modal.style.cssText = `
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border: 2px solid rgba(239, 68, 68, 0.5);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            color: white;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.9), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            max-width: 450px;
            width: 90%;
            animation: modalSlideIn 0.3s ease-out;
        `;

        modal.innerHTML = `
            <div style="margin-bottom: 25px;">
                <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #ef4444, #dc2626); 
                            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
                            margin: 0 auto 15px auto; font-size: 24px;">üîí</div>
                <h3 style="color: #ef4444; margin-bottom: 10px; font-size: 1.5rem;">Admin Access Required</h3>
                <p style="color: #cbd5e1; margin-bottom: 0;">Enter the reset code to clear all leaderboard scores:</p>
            </div>
            
            <div style="margin: 25px 0;">
                <input type="password" id="resetCode" placeholder="Enter reset code" 
                       style="width: 100%; padding: 15px; border-radius: 10px; border: 2px solid rgba(239, 68, 68, 0.3); 
                              background: rgba(239, 68, 68, 0.1); color: white; text-align: center; 
                              font-size: 16px; font-weight: bold; letter-spacing: 2px;">
                <div id="codeError" style="color: #ef4444; font-size: 14px; margin-top: 10px; display: none;">
                    ‚ùå Incorrect code. Access denied.
                </div>
            </div>
            
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <button onclick="verifyResetCode()" class="btn btn-danger" 
                        style="min-width: 140px; font-weight: bold;">
                    üóëÔ∏è Reset Leaderboard
                </button>
                <button onclick="closeResetModal()" class="btn btn-secondary" 
                        style="min-width: 100px;">
                    Cancel
                </button>
            </div>
            
            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(239, 68, 68, 0.2);">
                <p style="font-size: 12px; color: #94a3b8; line-height: 1.4;">
                    ‚ö†Ô∏è <strong>Warning:</strong> This action will permanently delete all player scores and cannot be undone!
                </p>
            </div>
        `;

        modalOverlay.appendChild(modal);
        document.body.appendChild(modalOverlay);
        window.currentResetModal = modalOverlay;
        
        const codeInput = document.getElementById('resetCode');
        codeInput.focus();
        codeInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                verifyResetCode();
            }
        });

        // Close modal when clicking outside
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeResetModal();
            }
        });
    }

    function verifyResetCode() {
        const enteredCode = document.getElementById('resetCode').value.trim();
         const correctCode = "TESSA"; // üîë CHANGE THIS TO YOUR DESIRED CODE
        const errorDiv = document.getElementById('codeError');
        
        if (enteredCode === correctCode) {
            // Correct code - show final confirmation
            if (confirm('üö® FINAL WARNING üö®\n\nYou are about to permanently delete ALL leaderboard scores!\n\nThis action CANNOT be undone.\n\nClick OK to proceed or Cancel to abort.')) {
                localStorage.removeItem('digitalMarketingQuizLeaderboard');
                closeResetModal();
                
                showNotification('‚úÖ Leaderboard has been reset successfully!', 'success');
                
                // Refresh leaderboard display if currently viewing it
                if (document.getElementById('leaderboardScreen').classList.contains('active')) {
                    showLeaderboard();
                }
            }
        } else {
            // Wrong code - show error
            errorDiv.style.display = 'block';
            document.getElementById('resetCode').value = '';
            document.getElementById('resetCode').focus();
            
            // Add shake animation to modal
            const modal = window.currentResetModal.querySelector('div');
            modal.style.animation = 'shake 0.5s ease-in-out';
            setTimeout(() => {
                modal.style.animation = '';
            }, 500);
        }
    }

    function closeResetModal() {
        if (window.currentResetModal) {
            window.currentResetModal.style.animation = 'fadeOut 0.3s ease-in';
            setTimeout(() => {
                if (document.body.contains(window.currentResetModal)) {
                    document.body.removeChild(window.currentResetModal);
                }
                window.currentResetModal = null;
            }, 300);
        }
    }

    function showNotification(message, type) {
        const notification = document.createElement('div');
        const isSuccess = type === 'success';
        
        notification.style.cssText = `
            position: fixed;
            top: 30px;
            right: 30px;
            padding: 20px 25px;
            border-radius: 12px;
            color: white;
            font-weight: bold;
            font-size: 16px;
            z-index: 1001;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            background: ${isSuccess ? 
                'linear-gradient(135deg, #22c55e, #16a34a)' : 
                'linear-gradient(135deg, #ef4444, #dc2626)'};
            border: 1px solid ${isSuccess ? '#16a34a' : '#dc2626'};
            animation: slideIn 0.4s ease-out;
            max-width: 300px;
            text-align: center;
        `;
        
        notification.innerHTML = `
            <div style="display: flex; align-items: center; gap: 10px; justify-content: center;">
                <span style="font-size: 20px;">${isSuccess ? '‚úÖ' : '‚ùå'}</span>
                <span>${message}</span>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        // Auto remove after 4 seconds
        setTimeout(() => {
            notification.style.animation = 'slideOut 0.4s ease-in';
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 400);
        }, 4000);
    }

    // Secret key combination (type "RESET" to trigger admin panel)
    let keySequence = [];
    const secretKeys = ['KeyR', 'KeyE', 'KeyS', 'KeyE', 'KeyT'];

    document.addEventListener('keydown', function(e) {
        keySequence.push(e.code);
        
        if (keySequence.length > secretKeys.length) {
            keySequence.shift();
        }
        
        if (keySequence.length === secretKeys.length && 
            keySequence.every((key, index) => key === secretKeys[index])) {
            
            showAdminReset();
            keySequence = [];
        }
    });
    
    function showPage(pageId) {
        lastState = quizState;
        quizState = pageId;
        DOMElements.pages.forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
    }

    function showInstructions() {
        showPage('instructionsScreen');
    }

    function validatePlayerName() {
        const name = DOMElements.playerNameInput.value.trim();
        if (!name) {
            DOMElements.nameError.textContent = 'Please enter your name to continue';
            DOMElements.nameError.classList.remove('hidden');
            DOMElements.playerNameInput.focus();
            return false;
        }
        if (name.length < 2) {
            DOMElements.nameError.textContent = 'Name must be at least 2 characters long';
            DOMElements.nameError.classList.remove('hidden');
            DOMElements.playerNameInput.focus();
            return false;
        }
        return true;
    }

    function startQuiz() {
        if (!validatePlayerName()) {
            return;
        }
        
        playerName = DOMElements.playerNameInput.value.trim();
        currentQuestionIndex = 0;
        userAnswers.fill(null);
        quizStartTime = new Date();
        renderQuestion();
        showPage('quizScreen');
    }

    function renderQuestion() {
        const question = quizData[currentQuestionIndex];
        const progress = ((currentQuestionIndex) / quizData.length) * 100;
        DOMElements.progressBar.style.width = `${progress}%`;
        DOMElements.questionCounter.textContent = `Question ${currentQuestionIndex + 1} of ${quizData.length}`;
        
        // Set badge text and style based on question type
        const typeMapping = {
            'single': 'Single Choice',
            'multi': 'Multiple Choice',
            'boolean': 'True/False',
            'match': 'Matching'
        };
        DOMElements.categoryBadge.textContent = typeMapping[question.type] || question.type;
        
        let questionHTML = question.question;
        if (question.type === 'match' && question.matchData) {
            questionHTML += `<table class="match-table">`;
            questionHTML += `<tr><th style="padding: 12px; background: rgba(59, 130, 246, 0.1);">Column A</th><th style="padding: 12px; background: rgba(59, 130, 246, 0.1);">Column B</th></tr>`;
            for(let i = 0; i < question.matchData.columnA.length; i++) {
                questionHTML += `<tr><td>${question.matchData.columnA[i]}</td><td>${question.matchData.columnB[i]}</td></tr>`;
            }
            questionHTML += `</table>`;
        }
        DOMElements.questionText.innerHTML = questionHTML;

        DOMElements.optionsContainer.innerHTML = '';

        question.options.forEach((option, index) => {
            const optionEl = document.createElement('div');
            optionEl.className = 'option';
            optionEl.innerHTML = `<span class="option-letter">${String.fromCharCode(65 + index)}</span><span>${option}</span>`;
            
            const currentAnswer = userAnswers[currentQuestionIndex];
            if (question.type === 'multi') {
                if (currentAnswer && currentAnswer.includes(index)) {
                    optionEl.classList.add('multi-selected');
                }
            } else {
                if (currentAnswer === index) {
                    optionEl.classList.add('selected');
                }
            }

            optionEl.onclick = () => selectAnswer(index, question.type);
            DOMElements.optionsContainer.appendChild(optionEl);
        });
        updateNavButtons();
    }
    
    function selectAnswer(index, type) {
        let currentAnswer = userAnswers[currentQuestionIndex];
        
        if (type === 'multi') {
            const newAnswer = currentAnswer ? [...currentAnswer] : [];
            const pos = newAnswer.indexOf(index);
            
            if (pos > -1) {
                // Remove if already selected
                newAnswer.splice(pos, 1);
            } else if (newAnswer.length < 2) {
                // Add if less than 2 selected
                newAnswer.push(index);
            } else {
                // Replace oldest if 2 already selected
                newAnswer.shift();
                newAnswer.push(index);
            }
            
            userAnswers[currentQuestionIndex] = newAnswer.length > 0 ? newAnswer : null;
        } else {
            userAnswers[currentQuestionIndex] = index;
        }
        renderQuestion();
    }
    
    function updateNavButtons() {
        DOMElements.prevBtn.disabled = currentQuestionIndex === 0;
        
        let answer = userAnswers[currentQuestionIndex];
        if (quizData[currentQuestionIndex].type === 'multi') {
            DOMElements.nextBtn.disabled = !answer || answer.length !== 2;
        } else {
            DOMElements.nextBtn.disabled = answer === null || answer === undefined;
        }
        
        DOMElements.nextBtn.textContent = currentQuestionIndex === quizData.length - 1 ? 'Finish üèÅ' : 'Next ‚Üí';
    }

    function previousQuestion() {
        if (currentQuestionIndex > 0) { 
            currentQuestionIndex--; 
            renderQuestion(); 
        }
    }
    
    function nextQuestion() {
        if (currentQuestionIndex < quizData.length - 1) {
            currentQuestionIndex++;
            renderQuestion();
        } else {
            finishQuiz();
        }
    }

    function finishQuiz() {
        quizEndTime = new Date();
        const timeTaken = Math.round((quizEndTime - quizStartTime) / 1000 / 60); // minutes
        
        let score = 0;
        quizData.forEach((q, i) => {
            const userAnswer = userAnswers[i];
            let isCorrect = false;
            
            if (q.type === 'multi') {
                const sortedUser = userAnswer ? [...userAnswer].sort() : [];
                const sortedCorrect = [...q.correct].sort();
                if (sortedUser.length === sortedCorrect.length && 
                    sortedUser.every((v, idx) => v === sortedCorrect[idx])) {
                    isCorrect = true;
                }
            } else {
                if (userAnswer === q.correct) {
                    isCorrect = true;
                }
            }
            if (isCorrect) score++;
        });
        
        const percentage = Math.round((score / quizData.length) * 100);
        document.getElementById('finalScore').textContent = `${score}/${quizData.length}`;
        document.getElementById('percentageScore').textContent = `${percentage}%`;
        document.getElementById('correctCount').textContent = score;
        document.getElementById('incorrectCount').textContent = quizData.length - score;
        
        let message = "Keep practicing! üìö";
        let messageColor = "var(--incorrect)";
        
        if (percentage >= 90) {
            message = "Outstanding! You're a digital marketing expert! üåü";
            messageColor = "var(--correct)";
        } else if (percentage >= 80) {
            message = "Excellent work! Great knowledge of digital marketing! üéâ";
            messageColor = "var(--correct)";
        } else if (percentage >= 70) {
            message = "Good job! You're on the right track! üëç";
            messageColor = "var(--primary-light)";
        } else if (percentage >= 60) {
            message = "Not bad! Room for improvement! üí™";
            messageColor = "var(--warning)";
        }
        
        const messageEl = document.getElementById('performanceMessage');
        messageEl.textContent = message;
        messageEl.style.color = messageColor;

        saveScoreToLeaderboard(score, percentage, timeTaken);
        showPage('resultsScreen');
    }
    
    function toggleDetailedResults() {
        const container = document.getElementById('detailedResults');
        const isHidden = container.classList.contains('hidden');
        
        if (isHidden) {
            container.classList.remove('hidden');
            generateDetailedResults(container);
        } else {
            container.classList.add('hidden');
        }
    }
    
    function generateDetailedResults(container) {
        container.innerHTML = '<h3>üìä Answer Review</h3>';
        
        quizData.forEach((q, i) => {
            let userAnswer = userAnswers[i];
            let isCorrect = false;
            
            if (q.type === 'multi') {
                const sortedUser = userAnswer ? [...userAnswer].sort() : [];
                const sortedCorrect = [...q.correct].sort();
                isCorrect = sortedUser.length === sortedCorrect.length && 
                           sortedUser.every((v, idx) => v === sortedCorrect[idx]);
            } else {
                isCorrect = userAnswer === q.correct;
            }

            const div = document.createElement('div');
            div.className = `answer-review ${isCorrect ? 'correct' : 'incorrect'}`;
            
            const statusIcon = isCorrect ? '‚úÖ' : '‚ùå';
            const userAnswerText = formatAnswer(q, userAnswer);
            const correctAnswerText = formatAnswer(q, q.correct);
            
            div.innerHTML = `
                <strong>${statusIcon} Q${i+1}: ${q.question}</strong><br>
                <small><strong>Your answer:</strong> ${userAnswerText}</small><br>
                <small><strong>Correct answer:</strong> ${correctAnswerText}</small><br>
                <small><em><strong>Explanation:</strong> ${q.explanation}</em></small>
            `;
            container.appendChild(div);
        });
    }

    function formatAnswer(q, answer) {
        if (answer === null || answer === undefined) return 'Not answered';
        
        if (q.type === 'multi') {
            if (!Array.isArray(answer)) return 'Invalid answer';
            return answer.map(i => q.options[i]).join(', ');
        }
        
        return q.options[answer] || 'Invalid answer';
    }
    
    function restartQuiz() { 
        showPage('startScreen');
        // Reset quiz state
        currentQuestionIndex = 0;
        userAnswers.fill(null);
        DOMElements.playerNameInput.focus();
    }

    function getLeaderboard() { 
        return JSON.parse(localStorage.getItem('digitalMarketingQuizLeaderboard') || '[]'); 
    }
    
    function saveScoreToLeaderboard(score, percentage, timeTaken) {
        let board = getLeaderboard();
        const entry = { 
            name: playerName, 
            score: score, 
            percentage: percentage,
            timeTaken: timeTaken,
            date: new Date().toLocaleDateString()
        };
        
        board.push(entry);
        board.sort((a, b) => {
            // Primary sort by score (descending)
            if (b.score !== a.score) return b.score - a.score;
            // Secondary sort by time taken (ascending - less time is better)
            return a.timeTaken - b.timeTaken;
        });
        
        // Keep top 10 scores
        localStorage.setItem('digitalMarketingQuizLeaderboard', JSON.stringify(board.slice(0, 10)));
    }
    
    function showLeaderboard() {
        const board = getLeaderboard();
        const container = document.getElementById('leaderboardContainer');
        
        if (board.length === 0) {
            container.innerHTML = '<p style="text-align: center; color: var(--text-dark);">No scores yet. Be the first to take the quiz! üéØ</p>';
        } else {
            let html = '';
            board.forEach((entry, i) => {
                const rankIcon = i === 0 ? 'üëë' : i === 1 ? 'ü•à' : i === 2 ? 'ü•â' : `${i + 1}.`;
                const timeText = entry.timeTaken ? ` ‚Ä¢ ${entry.timeTaken}min` : '';
                
                html += `
                    <div class="leaderboard-entry">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span class="leaderboard-rank">${rankIcon}</span>
                            <div>
                                <strong>${entry.name}</strong>
                                <br><small style="color: var(--text-dark);">${entry.date}${timeText}</small>
                            </div>
                        </div>
                        <div class="leaderboard-score">${entry.score}/${quizData.length} (${entry.percentage}%)</div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }
        showPage('leaderboardScreen');
    }
    
    function hideLeaderboard() { 
        showPage('startScreen'); 
    }

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
        if (quizState === 'quiz') {
            if (e.key === 'ArrowLeft' && !DOMElements.prevBtn.disabled) {
                previousQuestion();
            } else if (e.key === 'ArrowRight' && !DOMElements.nextBtn.disabled) {
                nextQuestion();
            } else if (e.key >= '1' && e.key <= '5') {
                const index = parseInt(e.key) - 1;
                const question = quizData[currentQuestionIndex];
                if (index < question.options.length) {
                    selectAnswer(index, question.type);
                }
            }
        }
    });
</script>
</body>
</html>
