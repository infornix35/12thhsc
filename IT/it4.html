<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-Commerce and E-Governance Quiz</title>
    <style>
        :root {
            --bg-dark: #0f172a;
            --surface: #1e293b;
            --primary: #3b82f6;
            --primary-light: #60a5fa;
            --text-light: #cbd5e1;
            --text-dark: #94a3b8;
            --correct: #22c55e;
            --incorrect: #ef4444;
            --warning: #f59e0b;
        }
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, #1e293b 100%);
            color: var(--text-light);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container { 
            width: 100%; 
            max-width: 700px; 
        }
        
        .quiz-card {
            background: var(--surface);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3), 0 1px 8px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
        }
        
        .page { 
            display: none; 
        }
        
        .page.active { 
            display: block; 
            animation: fadeIn 0.5s ease; 
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(10px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        h1 {
            font-size: 2.2rem;
            font-weight: 700;
            text-align: center;
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        
        h3 {
            margin-bottom: 15px;
            color: var(--primary-light);
        }
        
        p { 
            color: var(--text-dark); 
            text-align: center; 
            margin-bottom: 25px; 
            line-height: 1.5;
        }
        
        .btn-grid { 
            display: flex; 
            justify-content: center; 
            gap: 15px; 
            flex-wrap: wrap; 
        }
        
        .btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        .btn:hover:not(:disabled) { 
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }
        
        .btn:active:not(:disabled) {
            transform: translateY(0);
        }
        
        .btn.secondary { 
            background: linear-gradient(135deg, #334155, #475569);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .btn.secondary:hover:not(:disabled) { 
            background: linear-gradient(135deg, #475569, #64748b);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .btn.danger {
            background: linear-gradient(135deg, var(--incorrect), #dc2626);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        .btn.danger:hover:not(:disabled) {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }
        
        .btn:disabled { 
            background: #475569;
            cursor: not-allowed; 
            opacity: 0.6;
            transform: none;
            box-shadow: none;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px 16px;
            background-color: var(--bg-dark);
            border: 2px solid #334155;
            border-radius: 8px;
            color: white;
            text-align: center;
            margin-top: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .progress-container { 
            background-color: #334155; 
            border-radius: 99px; 
            padding: 4px; 
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar { 
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            height: 10px; 
            border-radius: 99px; 
            transition: width 0.4s ease;
            min-width: 0;
        }
        
        .question-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .badge { 
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            padding: 6px 14px; 
            border-radius: 20px; 
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: capitalize;
        }
        
        .question-text { 
            font-size: 1.25rem; 
            margin-bottom: 25px; 
            line-height: 1.6;
            color: var(--text-light);
        }
        
        .options-container { 
            display: grid; 
            gap: 12px; 
            margin-bottom: 25px; 
        }
        
        .option {
            background: rgba(59, 130, 246, 0.05);
            border: 2px solid #334155;
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex; 
            align-items: center; 
            gap: 12px;
        }
        
        .option:hover { 
            border-color: var(--primary);
            background: rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }
        
        .option.selected { 
            border-color: var(--primary-light);
            background: rgba(59, 130, 246, 0.2);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }
        
        .option.multi-selected { 
            border-color: var(--correct);
            background: rgba(34, 197, 94, 0.15);
            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.2);
        }
        
        .option-letter {
            width: 32px; 
            height: 32px; 
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: 700;
            flex-shrink: 0;
            font-size: 0.9rem;
        }
        
        .results-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); 
            gap: 20px; 
            text-align: center; 
            margin: 25px 0; 
        }
        
        .result-item {
            background: rgba(59, 130, 246, 0.1);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
        
        .result-item h3 { 
            font-size: 2.2rem; 
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        #correctCount { color: var(--correct); }
        #incorrectCount { color: var(--incorrect); }
        
        .answer-review { 
            border-left: 4px solid #334155; 
            padding: 15px; 
            margin-bottom: 12px; 
            background: rgba(0,0,0,0.1); 
            border-radius: 0 8px 8px 0;
        }
        
        .answer-review.correct { 
            border-left-color: var(--correct);
            background: rgba(34, 197, 94, 0.1);
        }
        
        .answer-review.incorrect { 
            border-left-color: var(--incorrect);
            background: rgba(239, 68, 68, 0.1);
        }
        
        .match-table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 15px 0; 
            font-size: 0.9rem;
            background: var(--bg-dark);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .match-table td { 
            border: 1px solid #334155; 
            padding: 12px;
            vertical-align: top;
        }
        
        .match-table th {
            background: rgba(59, 130, 246, 0.2);
            padding: 12px;
            font-weight: 600;
            color: var(--primary-light);
        }
        
        .match-table tr:nth-child(even) {
            background: rgba(59, 130, 246, 0.05);
        }
        
        .leaderboard-entry { 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            padding: 15px; 
            border-radius: 8px; 
            transition: all 0.3s ease;
            margin-bottom: 8px;
            background: rgba(59, 130, 246, 0.05);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }
        
        .leaderboard-entry:hover { 
            background: rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }
        
        .leaderboard-entry.current-user {
            background: rgba(34, 197, 94, 0.2) !important;
            border-color: #22c55e !important;
        }
        
        .leaderboard-rank {
            font-weight: 700;
            color: var(--primary-light);
            margin-right: 10px;
        }
        
        .leaderboard-score {
            background: var(--primary);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .hidden { 
            display: none !important; 
        }
        
        .error-message {
            color: var(--incorrect);
            font-size: 0.9rem;
            margin-top: 5px;
            text-align: center;
        }
        
        .success-message {
            color: var(--correct);
            font-size: 0.9rem;
            margin-top: 5px;
            text-align: center;
        }
        
        @media (max-width: 640px) {
            .container {
                padding: 10px;
            }
            
            .quiz-card {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .question-header {
                flex-direction: column;
                text-align: center;
            }
            
            .results-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }

        /* Animation styles for modal and notifications */
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        @keyframes modalSlideIn {
            from { 
                opacity: 0; 
                transform: scale(0.7) translateY(-50px); 
            }
            to { 
                opacity: 1; 
                transform: scale(1) translateY(0); 
            }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        @keyframes fadeOut {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.8); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Start Screen -->
        <div id="startScreen" class="quiz-card page active">
            <h1>üõí E-Commerce and E-Governance Quiz</h1>
            <p>Test your knowledge of E-Commerce concepts, E-Governance, digital payments, and online security!</p>
            <input type="text" id="playerName" placeholder="Enter your name..." maxlength="20" required>
            <div id="nameError" class="error-message hidden">Please enter your name to continue</div>
            <div class="btn-grid" style="margin-top: 20px;">
                <button class="btn" onclick="startQuiz()">üöÄ Start Quiz</button>
            </div>
            <div class="btn-grid" style="margin-top: 15px;">
                <button class="btn secondary" onclick="showLeaderboard()">üèÜ Leaderboard</button>
                <button class="btn secondary" onclick="showInstructions()">üìã Instructions</button>
            </div>
        </div>

        <!-- Instructions Screen -->
        <div id="instructionsScreen" class="quiz-card page">
            <h1>üìã Quiz Instructions</h1>
            <div style="text-align: left; margin: 20px 0;">
                <h3>Question Types:</h3>
                <ul style="margin-left: 20px; margin-bottom: 20px;">
                    <li><strong>Single Choice:</strong> Select one correct answer</li>
                    <li><strong>Multiple Choice:</strong> Select exactly two correct answers</li>
                    <li><strong>True/False:</strong> Choose True or False</li>
                    <li><strong>Matching:</strong> Match items correctly</li>
                </ul>
                
                <h3>Scoring:</h3>
                <ul style="margin-left: 20px; margin-bottom: 20px;">
                    <li>Each question is worth 1 point</li>
                    <li>Total: 40 questions</li>
                    <li>Passing score: 24+ points (60%)</li>
                </ul>
                
                <h3>Topics Covered:</h3>
                <ul style="margin-left: 20px;">
                    <li>E-Commerce Fundamentals and Models</li>
                    <li>E-Governance Types and Services</li>
                    <li>Digital Payment Systems</li>
                    <li>Online Security and Encryption</li>
                </ul>
            </div>
            <div class="btn-grid">
                <button class="btn secondary" onclick="showPage('startScreen')">‚Üê Back</button>
                <button class="btn" onclick="startQuiz()">üöÄ Start Quiz</button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quizScreen" class="quiz-card page">
            <div class="progress-container">
                <div id="progressBar" class="progress-bar"></div>
            </div>
            <div class="question-header">
                <span id="questionCounter"></span>
                <span id="categoryBadge" class="badge"></span>
            </div>
            <div id="questionText" class="question-text"></div>
            <div id="optionsContainer" class="options-container"></div>
            <div class="btn-grid">
                <button id="prevBtn" class="btn secondary" onclick="previousQuestion()">‚Üê Previous</button>
                <button id="nextBtn" class="btn" onclick="nextQuestion()">Next ‚Üí</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="quiz-card page">
            <h1>üéâ Quiz Complete!</h1>
            <div class="results-grid">
                <div class="result-item">
                    <h3 id="finalScore">0/40</h3>
                    <p>Score</p>
                </div>
                <div class="result-item">
                    <h3 id="percentageScore">0%</h3>
                    <p>Percentage</p>
                </div>
                <div class="result-item">
                    <h3 id="correctCount">0</h3>
                    <p>Correct</p>
                </div>
                <div class="result-item">
                    <h3 id="incorrectCount">0</h3>
                    <p>Incorrect</p>
                </div>
            </div>
            <p id="performanceMessage" style="margin-bottom:20px; font-size: 1.2rem; font-weight: 600;"></p>
            <div class="btn-grid">
                <button class="btn" onclick="toggleDetailedResults()">üìä View Answers</button>
                <button class="btn secondary" onclick="restartQuiz()">üîÑ Take Again</button>
                <button class="btn secondary" onclick="showLeaderboard()">üèÜ Leaderboard</button>
            </div>
            <div id="detailedResults" class="hidden" style="margin-top: 25px;"></div>
        </div>
        
        <!-- Leaderboard Screen -->
        <div id="leaderboardScreen" class="quiz-card page">
            <h1>üèÜ Leaderboard</h1>
            <p>Top 10 scores from all players</p>
            <div id="leaderboardContainer" style="margin: 25px 0;"></div>
            <div class="btn-grid">
                <button class="btn secondary" onclick="hideLeaderboard()">‚Üê Back</button>
                <button class="btn danger" onclick="showAdminReset()">üîí Reset Scores</button>
            </div>
        </div>
    </div>

<script>
    const quizData = [
        // Part A: Single Choice MCQs (15)
        {
            question: "Which is the most accurate definition of E-Commerce?",
            options: ["Trade through personal interaction", "Paperless exchange over the internet", "Exchange using only face-to-face meetings", "Manual processing of business transactions"],
            correct: 1,
            type: "single",
            explanation: "E-Commerce is defined as paperless exchange over the internet, enabling businesses and consumers to conduct transactions electronically without physical paperwork or face-to-face meetings."
        },
        {
            question: "E-commerce allows customers to shop:",
            options: ["During office hours only", "24 hours a day, 7 days a week", "Only on weekends", "Only through social media"],
            correct: 1,
            type: "single",
            explanation: "One of the key advantages of E-commerce is that it allows customers to shop 24/7, providing round-the-clock accessibility without time or location restrictions."
        },
        {
            question: "Which is NOT an advantage of E-Commerce?",
            options: ["Global reach", "Higher paperwork", "Cost saving", "Anytime shopping"],
            correct: 1,
            type: "single",
            explanation: "Higher paperwork is NOT an advantage of E-Commerce. In fact, E-Commerce reduces paperwork by digitizing transactions and records, making processes more efficient."
        },
        {
            question: "In traditional commerce, the interaction is:",
            options: ["Screen-to-face", "Only online", "Manual and personal", "Anonymous"],
            correct: 2,
            type: "single",
            explanation: "Traditional commerce involves manual and personal interaction between buyers and sellers, typically conducted face-to-face in physical locations with personal customer service."
        },
        {
            question: "Which is a major disadvantage of E-Commerce?",
            options: ["More paperwork", "Security concerns", "Instant delivery", "Limited global reach"],
            correct: 1,
            type: "single",
            explanation: "Security concerns are a major disadvantage of E-Commerce, including risks of data breaches, identity theft, fraud, and unauthorized access to personal and financial information."
        },
        {
            question: "What is the first phase of the E-Commerce trade cycle?",
            options: ["Settlement", "Pre-sale", "Execution", "After Sale"],
            correct: 1,
            type: "single",
            explanation: "Pre-sale is the first phase of the E-Commerce trade cycle, involving activities like product search, comparison, negotiation, and customer inquiry before making a purchase decision."
        },
        {
            question: "Which payment mode is commonly used for international E-Commerce?",
            options: ["Cash", "Credit cards", "Cheques", "Manual bank deposit"],
            correct: 1,
            type: "single",
            explanation: "Credit cards are commonly used for international E-Commerce as they provide secure, instant payment processing across borders with currency conversion capabilities."
        },
        {
            question: "E-wallet is best described as:",
            options: ["Physical wallet", "Electronic pre-paid account", "Cheque book", "Paper slip"],
            correct: 1,
            type: "single",
            explanation: "An E-wallet is an electronic pre-paid account that stores digital money, allowing users to make online payments and transactions without using physical cash or cards."
        },
        {
            question: "Which is an example of Business-to-Consumer (B2C) E-Commerce?",
            options: ["Wholesaler selling to retailer", "Online retailer selling to customer", "Consumer selling to consumer", "Blogger writing for business"],
            correct: 1,
            type: "single",
            explanation: "B2C E-Commerce involves businesses selling directly to individual consumers, such as online retailers like Amazon selling products to end customers."
        },
        {
            question: "EDI stands for:",
            options: ["Electronic Data Interchange", "Email Delivery Index", "Electronic Digital Invoice", "Encrypted Digital Identity"],
            correct: 0,
            type: "single",
            explanation: "EDI stands for Electronic Data Interchange, which is the structured transmission of data between organizations by electronic means for business document exchange."
        },
        {
            question: "What does M-commerce refer to?",
            options: ["Commerce with manual records", "Mobile commerce through wireless devices", "Online auctions only", "Barcode technology"],
            correct: 1,
            type: "single",
            explanation: "M-commerce refers to Mobile commerce conducted through wireless devices like smartphones and tablets, enabling shopping, banking, and payments on mobile platforms."
        },
        {
            question: "The main use of encryption in E-Commerce is:",
            options: ["Increase transaction speed", "Secure information transmission", "Generate marketing emails", "Design websites"],
            correct: 1,
            type: "single",
            explanation: "Encryption in E-Commerce is primarily used to secure information transmission, protecting sensitive data like credit card numbers and personal information during online transactions."
        },
        {
            question: "Which type of e-Governance allows citizens to access government services?",
            options: ["G2B", "G2C", "G2G", "G2E"],
            correct: 1,
            type: "single",
            explanation: "G2C (Government-to-Citizen) is the type of e-Governance that allows citizens to access government services online, such as tax filing, license renewal, and benefit applications."
        },
        {
            question: "A digital signature in E-Commerce guarantees:",
            options: ["Fast delivery", "Authenticity of a document", "24x7 shopping", "Instant refund"],
            correct: 1,
            type: "single",
            explanation: "A digital signature guarantees the authenticity of a document by verifying the identity of the sender and ensuring the document hasn't been tampered with during transmission."
        },
        {
            question: "Which is a popular application of social commerce?",
            options: ["Tax payment portal", "Facebook marketplace", "Bank transfer site", "Paper invoice generation"],
            correct: 1,
            type: "single",
            explanation: "Facebook marketplace is a popular application of social commerce, allowing users to buy and sell products within the social media platform environment."
        },

        // Part B: Two Correct Options (15)
        {
            question: "Which are two main disadvantages of E-Commerce?",
            options: ["Security risks", "Easy setup", "Setup costs", "Fewer product options"],
            correct: [0, 2],
            type: "multi",
            explanation: "Security risks and setup costs are major disadvantages of E-Commerce. Security risks include data breaches and fraud, while setup costs involve initial investment in technology and infrastructure."
        },
        {
            question: "Payment modes commonly used in E-Commerce include:",
            options: ["Credit card", "Cash on delivery", "E-wallet", "Barter"],
            correct: [0, 2],
            type: "multi",
            explanation: "Credit cards and E-wallets are common digital payment modes in E-Commerce, providing secure and convenient online transaction methods."
        },
        {
            question: "Phases of the E-Commerce trade cycle include:",
            options: ["Pre-sale", "Marketing", "After-sale", "Advertising"],
            correct: [0, 2],
            type: "multi",
            explanation: "Pre-sale and After-sale are key phases of the E-Commerce trade cycle. Pre-sale involves search and negotiation, while After-sale includes customer support and service."
        },
        {
            question: "In EDI, the most commonly exchanged formats are:",
            options: ["Purchase orders", "Product ratings", "Invoices", "Cheques"],
            correct: [0, 2],
            type: "multi",
            explanation: "Purchase orders and Invoices are the most commonly exchanged business documents in EDI systems, facilitating automated business-to-business transactions."
        },
        {
            question: "Common forms of E-Commerce are:",
            options: ["M-Commerce", "Social Commerce", "Street trade", "Fax order"],
            correct: [0, 1],
            type: "multi",
            explanation: "M-Commerce (mobile commerce) and Social Commerce are modern forms of E-Commerce that leverage mobile devices and social media platforms respectively."
        },
        {
            question: "Advantages of e-Governance include:",
            options: ["Reduced corruption", "Increased paperwork", "High transparency", "Manual processes"],
            correct: [0, 2],
            type: "multi",
            explanation: "Reduced corruption and High transparency are key advantages of e-Governance, as digital systems provide clear audit trails and reduce human intervention in government processes."
        },
        {
            question: "Which are types of E-Governance relationships?",
            options: ["G2G", "B2C", "G2E", "P2P"],
            correct: [0, 2],
            type: "multi",
            explanation: "G2G (Government-to-Government) and G2E (Government-to-Employee) are types of E-Governance relationships that facilitate inter-government communication and employee services."
        },
        {
            question: "Phases included in the execution and settlement stages of a trade cycle are:",
            options: ["Order", "Invoice", "Team meeting", "Advertising"],
            correct: [0, 1],
            type: "multi",
            explanation: "Order processing and Invoice generation are key activities in the execution and settlement phases of the trade cycle, handling transaction completion and payment."
        },
        {
            question: "Two main types of encryption are:",
            options: ["Symmetric (private key)", "Random key", "Asymmetric (public key)", "Cyclic"],
            correct: [0, 2],
            type: "multi",
            explanation: "Symmetric (private key) and Asymmetric (public key) are the two main types of encryption methods used to secure data transmission in E-Commerce."
        },
        {
            question: "Security measures in E-Commerce encompass:",
            options: ["Encryption", "Digital certificate", "Marketing strategy", "Social media use"],
            correct: [0, 1],
            type: "multi",
            explanation: "Encryption and Digital certificates are essential security measures in E-Commerce that protect data transmission and verify identity authentication."
        },
        {
            question: "Which two models of E-Commerce involve consumers?",
            options: ["C2B", "C2C", "B2B", "G2C"],
            correct: [0, 1],
            type: "multi",
            explanation: "C2B (Consumer-to-Business) and C2C (Consumer-to-Consumer) are E-Commerce models that directly involve consumers as active participants in transactions."
        },
        {
            question: "Features of e-Governance include:",
            options: ["Accessibility", "Confidentiality", "Simplicity", "Interactivity"],
            correct: [0, 3],
            type: "multi",
            explanation: "Accessibility and Interactivity are key features of e-Governance, providing citizens with easy access to government services and interactive online interfaces."
        },
        {
            question: "Digital certificates help to:",
            options: ["Secure data over internet", "Convert data into invoices", "Verify identity online", "Market products"],
            correct: [0, 2],
            type: "multi",
            explanation: "Digital certificates secure data transmission over the internet and verify identity online, ensuring authentic and encrypted communication in E-Commerce."
        },
        {
            question: "M-Commerce is used for:",
            options: ["Mobile ticketing", "Mobile banking", "Desktop shopping", "Telemarketing"],
            correct: [0, 1],
            type: "multi",
            explanation: "Mobile ticketing and Mobile banking are popular applications of M-Commerce, allowing users to purchase tickets and conduct banking transactions through mobile devices."
        },
        {
            question: "Social commerce happens over platforms like:",
            options: ["Facebook", "Instagram", "Mozilla Firefox", "Outlook"],
            correct: [0, 1],
            type: "multi",
            explanation: "Facebook and Instagram are social media platforms that facilitate social commerce through marketplace features and integrated shopping capabilities."
        },

        // Part C: Match the Column (2 sets - shuffled as requested)
        {
            question: "Match the E-Commerce and E-Governance terms with their applications:",
            type: "match",
            options: ["1-a, 2-d, 3-e, 4-b, 5-f, 6-c, 7-g", "1-b, 2-a, 3-d, 4-c, 5-e, 6-f, 7-g", "1-c, 2-e, 3-f, 4-g, 5-a, 6-b, 7-d", "1-g, 2-f, 3-c, 4-a, 5-b, 6-d, 7-e"],
            correct: 0,
            explanation: "Correct matching: License renewal is G2E service (1-a), Wholesaler-to-retailer is B2B (2-d), Online facility is G2C (3-e), M-commerce is E-bill payment (4-b), Government agencies sharing database is G2G (5-f), EDI is paperless information exchange (6-c), and Cipher Text is coded form of data (7-g).",
            matchData: {
                columnA: ["1. License renewal", "2. Wholesaler-to-retailer", "3. Online facility", "4. M-commerce", "5. Government agencies share database", "6. EDI", "7. Cipher Text"],
                columnB: ["a. G2E services", "b. E-bill payment", "c. Paperless exchange of information", "d. B2B", "e. G2C", "f. G2G", "g. Coded form of data"]
            }
        },
        {
            question: "Match the E-Commerce phases and security concepts:",
            type: "match",
            options: ["1-f, 2-e, 3-a, 4-c, 5-d, 6-b", "1-a, 2-b, 3-c, 4-d, 5-e, 6-f", "1-d, 2-c, 3-f, 4-a, 5-b, 6-e", "1-b, 2-f, 3-d, 4-e, 5-a, 6-c"],
            correct: 0,
            explanation: "Correct matching: Execution phase involves Order and delivery (1-f), Digital certificate provides Online identity for PKI (2-e), Pre-sale phase includes Search and negotiate (3-a), Encryption enables Secure data transformation (4-c), Settlement phase handles Invoice and payment (5-d), and Digital signature provides Authenticity verification (6-b).",
            matchData: {
                columnA: ["1. Execution phase", "2. Digital certificate", "3. Pre-sale phase", "4. Encryption", "5. Settlement phase", "6. Digital signature"],
                columnB: ["a. Search and negotiate", "b. Authenticity verification of e-documents", "c. Secure data transformation between parties", "d. Invoice and payment", "e. Online identity for public key infrastructure", "f. Order and delivery"]
            }
        },

        // Part D: True/False (6)
        {
            question: "E-Commerce allows shopping only during business hours.",
            options: ["True", "False"],
            correct: 1,
            type: "boolean",
            explanation: "False. E-Commerce allows shopping 24 hours a day, 7 days a week, which is one of its key advantages over traditional commerce that operates during limited business hours."
        },
        {
            question: "G2B is a type of E-Governance serving business organizations.",
            options: ["True", "False"],
            correct: 0,
            type: "boolean",
            explanation: "True. G2B (Government-to-Business) is a type of E-Governance that provides services to business organizations, such as business registration, tax filing, and regulatory compliance."
        },
        {
            question: "In E-Commerce, e-wallets can store money for future online transactions.",
            options: ["True", "False"],
            correct: 0,
            type: "boolean",
            explanation: "True. E-wallets are electronic pre-paid accounts that can store digital money, allowing users to make future online transactions without repeatedly entering payment details."
        },
        {
            question: "M-commerce can be done only on desktop computers.",
            options: ["True", "False"],
            correct: 1,
            type: "boolean",
            explanation: "False. M-commerce (Mobile commerce) is specifically designed for mobile devices like smartphones and tablets, not desktop computers."
        },
        {
            question: "Encryption is not used for protecting transactions in E-Commerce.",
            options: ["True", "False"],
            correct: 1,
            type: "boolean",
            explanation: "False. Encryption is a critical security measure used in E-Commerce to protect sensitive transaction data, personal information, and financial details during online transactions."
        },
        {
            question: "Checking holiday balance online is an example of G2E service.",
            options: ["True", "False"],
            correct: 0,
            type: "boolean",
            explanation: "True. Checking holiday balance online is a G2E (Government-to-Employee) service that allows government employees to access their employment-related information digitally."
        }
    ];

    let currentQuestionIndex = 0;
    let userAnswers = new Array(quizData.length).fill(null);
    let quizState = 'start';
    let lastState = 'start';
    let playerName = '';
    let quizStartTime = null;
    let quizEndTime = null;
    
    const DOMElements = {
        pages: document.querySelectorAll('.page'),
        startScreen: document.getElementById('startScreen'),
        quizScreen: document.getElementById('quizScreen'),
        resultsScreen: document.getElementById('resultsScreen'),
        leaderboardScreen: document.getElementById('leaderboardScreen'),
        instructionsScreen: document.getElementById('instructionsScreen'),
        progressBar: document.getElementById('progressBar'),
        questionCounter: document.getElementById('questionCounter'),
        categoryBadge: document.getElementById('categoryBadge'),
        questionText: document.getElementById('questionText'),
        optionsContainer: document.getElementById('optionsContainer'),
        prevBtn: document.getElementById('prevBtn'),
        nextBtn: document.getElementById('nextBtn'),
        playerNameInput: document.getElementById('playerName'),
        nameError: document.getElementById('nameError')
    };
    
    // Initialize event listeners
    document.addEventListener('DOMContentLoaded', function() {
        DOMElements.playerNameInput.addEventListener('input', function() {
            DOMElements.nameError.classList.add('hidden');
        });
        
        DOMElements.playerNameInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                startQuiz();
            }
        });
    });

    // Admin reset system with secure code protection
    function showAdminReset() {
        const modalOverlay = document.createElement('div');
        modalOverlay.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        `;

        const modal = document.createElement('div');
        modal.style.cssText = `
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border: 2px solid rgba(239, 68, 68, 0.5);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            color: white;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.9), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            max-width: 450px;
            width: 90%;
            animation: modalSlideIn 0.3s ease-out;
        `;

        modal.innerHTML = `
            <div style="margin-bottom: 25px;">
                <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #ef4444, #dc2626); 
                            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
                            margin: 0 auto 15px auto; font-size: 24px;">üîí</div>
                <h3 style="color: #ef4444; margin-bottom: 10px; font-size: 1.5rem;">Admin Access Required</h3>
                <p style="color: #cbd5e1; margin-bottom: 0;">Enter the reset code to clear all leaderboard scores:</p>
            </div>
            
            <div style="margin: 25px 0;">
                <input type="password" id="resetCode" placeholder="Enter reset code" 
                       style="width: 100%; padding: 15px; border-radius: 10px; border: 2px solid rgba(239, 68, 68, 0.3); 
                              background: rgba(239, 68, 68, 0.1); color: white; text-align: center; 
                              font-size: 16px; font-weight: bold; letter-spacing: 2px;">
                <div id="codeError" style="color: #ef4444; font-size: 14px; margin-top: 10px; display: none;">
                    ‚ùå Incorrect code. Access denied.
                </div>
            </div>
            
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <button onclick="verifyResetCode()" class="btn btn-danger" 
                        style="min-width: 140px; font-weight: bold;">
                    üóëÔ∏è Reset Leaderboard
                </button>
                <button onclick="closeResetModal()" class="btn btn-secondary" 
                        style="min-width: 100px;">
                    Cancel
                </button>
            </div>
            
            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(239, 68, 68, 0.2);">
                <p style="font-size: 12px; color: #94a3b8; line-height: 1.4;">
                    ‚ö†Ô∏è <strong>Warning:</strong> This action will permanently delete all player scores and cannot be undone!
                </p>
            </div>
        `;

        modalOverlay.appendChild(modal);
        document.body.appendChild(modalOverlay);
        window.currentResetModal = modalOverlay;
        
        const codeInput = document.getElementById('resetCode');
        codeInput.focus();
        codeInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                verifyResetCode();
            }
        });

        // Close modal when clicking outside
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeResetModal();
            }
        });
    }

    function verifyResetCode() {
        const enteredCode = document.getElementById('resetCode').value.trim();
        const correctCode = "TESSA"; // üîë RESET PASSWORD IS "TESSA"
        const errorDiv = document.getElementById('codeError');
        
        if (enteredCode === correctCode) {
            // Correct code - show final confirmation
            if (confirm('üö® FINAL WARNING üö®\n\nYou are about to permanently delete ALL leaderboard scores!\n\nThis action CANNOT be undone.\n\nClick OK to proceed or Cancel to abort.')) {
                localStorage.removeItem('eCommerceEGovernanceQuizLeaderboard');
                closeResetModal();
                
                showNotification('‚úÖ Leaderboard has been reset successfully!', 'success');
                
                // Refresh leaderboard display if currently viewing it
                if (document.getElementById('leaderboardScreen').classList.contains('active')) {
                    showLeaderboard();
                }
            }
        } else {
            // Wrong code - show error
            errorDiv.style.display = 'block';
            document.getElementById('resetCode').value = '';
            document.getElementById('resetCode').focus();
            
            // Add shake animation to modal
            const modal = window.currentResetModal.querySelector('div');
            modal.style.animation = 'shake 0.5s ease-in-out';
            setTimeout(() => {
                modal.style.animation = '';
            }, 500);
        }
    }

    function closeResetModal() {
        if (window.currentResetModal) {
            window.currentResetModal.style.animation = 'fadeOut 0.3s ease-in';
            setTimeout(() => {
                if (document.body.contains(window.currentResetModal)) {
                    document.body.removeChild(window.currentResetModal);
                }
                window.currentResetModal = null;
            }, 300);
        }
    }

    function showNotification(message, type) {
        const notification = document.createElement('div');
        const isSuccess = type === 'success';
        
        notification.style.cssText = `
            position: fixed;
            top: 30px;
            right: 30px;
            padding: 20px 25px;
            border-radius: 12px;
            color: white;
            font-weight: bold;
            font-size: 16px;
            z-index: 1001;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            background: ${isSuccess ? 
                'linear-gradient(135deg, #22c55e, #16a34a)' : 
                'linear-gradient(135deg, #ef4444, #dc2626)'};
            border: 1px solid ${isSuccess ? '#16a34a' : '#dc2626'};
            animation: slideIn 0.4s ease-out;
            max-width: 300px;
            text-align: center;
        `;
        
        notification.innerHTML = `
            <div style="display: flex; align-items: center; gap: 10px; justify-content: center;">
                <span style="font-size: 20px;">${isSuccess ? '‚úÖ' : '‚ùå'}</span>
                <span>${message}</span>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        // Auto remove after 4 seconds
        setTimeout(() => {
            notification.style.animation = 'slideOut 0.4s ease-in';
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 400);
        }, 4000);
    }

    // Secret key combination (type "RESET" to trigger admin panel)
    let keySequence = [];
    const secretKeys = ['KeyR', 'KeyE', 'KeyS', 'KeyE', 'KeyT'];

    document.addEventListener('keydown', function(e) {
        keySequence.push(e.code);
        
        if (keySequence.length > secretKeys.length) {
            keySequence.shift();
        }
        
        if (keySequence.length === secretKeys.length && 
            keySequence.every((key, index) => key === secretKeys[index])) {
            
            showAdminReset();
            keySequence = [];
        }
    });
    
    function showPage(pageId) {
        lastState = quizState;
        quizState = pageId;
        DOMElements.pages.forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
    }

    function showInstructions() {
        showPage('instructionsScreen');
    }

    function validatePlayerName() {
        const name = DOMElements.playerNameInput.value.trim();
        if (!name) {
            DOMElements.nameError.textContent = 'Please enter your name to continue';
            DOMElements.nameError.classList.remove('hidden');
            DOMElements.playerNameInput.focus();
            return false;
        }
        if (name.length < 2) {
            DOMElements.nameError.textContent = 'Name must be at least 2 characters long';
            DOMElements.nameError.classList.remove('hidden');
            DOMElements.playerNameInput.focus();
            return false;
        }
        return true;
    }

    function startQuiz() {
        if (!validatePlayerName()) {
            return;
        }
        
        playerName = DOMElements.playerNameInput.value.trim();
        currentQuestionIndex = 0;
        userAnswers.fill(null);
        quizStartTime = new Date();
        renderQuestion();
        showPage('quizScreen');
    }

    function renderQuestion() {
        const question = quizData[currentQuestionIndex];
        const progress = ((currentQuestionIndex) / quizData.length) * 100;
        DOMElements.progressBar.style.width = `${progress}%`;
        DOMElements.questionCounter.textContent = `Question ${currentQuestionIndex + 1} of ${quizData.length}`;
        
        // Set badge text and style based on question type
        const typeMapping = {
            'single': 'Single Choice',
            'multi': 'Multiple Choice',
            'boolean': 'True/False',
            'match': 'Matching'
        };
        DOMElements.categoryBadge.textContent = typeMapping[question.type] || question.type;
        
        let questionHTML = question.question;
        if (question.type === 'match' && question.matchData) {
            questionHTML += `<table class="match-table">`;
            questionHTML += `<tr><th style="padding: 12px; background: rgba(59, 130, 246, 0.1);">Column A</th><th style="padding: 12px; background: rgba(59, 130, 246, 0.1);">Column B</th></tr>`;
            for(let i = 0; i < question.matchData.columnA.length; i++) {
                questionHTML += `<tr><td>${question.matchData.columnA[i]}</td><td>${question.matchData.columnB[i]}</td></tr>`;
            }
            questionHTML += `</table>`;
        }
        DOMElements.questionText.innerHTML = questionHTML;

        DOMElements.optionsContainer.innerHTML = '';

        question.options.forEach((option, index) => {
            const optionEl = document.createElement('div');
            optionEl.className = 'option';
            optionEl.innerHTML = `<span class="option-letter">${String.fromCharCode(65 + index)}</span><span>${option}</span>`;
            
            const currentAnswer = userAnswers[currentQuestionIndex];
            if (question.type === 'multi') {
                if (currentAnswer && currentAnswer.includes(index)) {
                    optionEl.classList.add('multi-selected');
                }
            } else {
                if (currentAnswer === index) {
                    optionEl.classList.add('selected');
                }
            }

            optionEl.onclick = () => selectAnswer(index, question.type);
            DOMElements.optionsContainer.appendChild(optionEl);
        });
        updateNavButtons();
    }
    
    function selectAnswer(index, type) {
        let currentAnswer = userAnswers[currentQuestionIndex];
        
        if (type === 'multi') {
            const newAnswer = currentAnswer ? [...currentAnswer] : [];
            const pos = newAnswer.indexOf(index);
            
            if (pos > -1) {
                // Remove if already selected
                newAnswer.splice(pos, 1);
            } else if (newAnswer.length < 2) {
                // Add if less than 2 selected
                newAnswer.push(index);
            } else {
                // Replace oldest if 2 already selected
                newAnswer.shift();
                newAnswer.push(index);
            }
            
            userAnswers[currentQuestionIndex] = newAnswer.length > 0 ? newAnswer : null;
        } else {
            userAnswers[currentQuestionIndex] = index;
        }
        renderQuestion();
    }
    
    function updateNavButtons() {
        DOMElements.prevBtn.disabled = currentQuestionIndex === 0;
        
        let answer = userAnswers[currentQuestionIndex];
        if (quizData[currentQuestionIndex].type === 'multi') {
            DOMElements.nextBtn.disabled = !answer || answer.length !== 2;
        } else {
            DOMElements.nextBtn.disabled = answer === null || answer === undefined;
        }
        
        DOMElements.nextBtn.textContent = currentQuestionIndex === quizData.length - 1 ? 'Finish üèÅ' : 'Next ‚Üí';
    }

    function previousQuestion() {
        if (currentQuestionIndex > 0) { 
            currentQuestionIndex--; 
            renderQuestion(); 
        }
    }
    
    function nextQuestion() {
        if (currentQuestionIndex < quizData.length - 1) {
            currentQuestionIndex++;
            renderQuestion();
        } else {
            finishQuiz();
        }
    }

    function finishQuiz() {
        quizEndTime = new Date();
        const timeTaken = Math.round((quizEndTime - quizStartTime) / 1000 / 60); // minutes
        
        let score = 0;
        quizData.forEach((q, i) => {
            const userAnswer = userAnswers[i];
            let isCorrect = false;
            
            if (q.type === 'multi') {
                const sortedUser = userAnswer ? [...userAnswer].sort() : [];
                const sortedCorrect = [...q.correct].sort();
                if (sortedUser.length === sortedCorrect.length && 
                    sortedUser.every((v, idx) => v === sortedCorrect[idx])) {
                    isCorrect = true;
                }
            } else {
                if (userAnswer === q.correct) {
                    isCorrect = true;
                }
            }
            if (isCorrect) score++;
        });
        
        const percentage = Math.round((score / quizData.length) * 100);
        document.getElementById('finalScore').textContent = `${score}/${quizData.length}`;
        document.getElementById('percentageScore').textContent = `${percentage}%`;
        document.getElementById('correctCount').textContent = score;
        document.getElementById('incorrectCount').textContent = quizData.length - score;
        
        let message = "Keep practicing! üìö";
        let messageColor = "var(--incorrect)";
        
        if (percentage >= 90) {
            message = "Outstanding! You're an E-Commerce expert! üåü";
            messageColor = "var(--correct)";
        } else if (percentage >= 80) {
            message = "Excellent work! Great knowledge of E-Commerce and E-Governance! üéâ";
            messageColor = "var(--correct)";
        } else if (percentage >= 70) {
            message = "Good job! You're on the right track! üëç";
            messageColor = "var(--primary-light)";
        } else if (percentage >= 60) {
            message = "Not bad! Room for improvement! üí™";
            messageColor = "var(--warning)";
        }
        
        const messageEl = document.getElementById('performanceMessage');
        messageEl.textContent = message;
        messageEl.style.color = messageColor;

        saveScoreToLeaderboard(score, percentage, timeTaken);
        showPage('resultsScreen');
    }
    
    function toggleDetailedResults() {
        const container = document.getElementById('detailedResults');
        const isHidden = container.classList.contains('hidden');
        
        if (isHidden) {
            container.classList.remove('hidden');
            generateDetailedResults(container);
        } else {
            container.classList.add('hidden');
        }
    }
    
    function generateDetailedResults(container) {
        container.innerHTML = '<h3>üìä Answer Review</h3>';
        
        quizData.forEach((q, i) => {
            let userAnswer = userAnswers[i];
            let isCorrect = false;
            
            if (q.type === 'multi') {
                const sortedUser = userAnswer ? [...userAnswer].sort() : [];
                const sortedCorrect = [...q.correct].sort();
                isCorrect = sortedUser.length === sortedCorrect.length && 
                           sortedUser.every((v, idx) => v === sortedCorrect[idx]);
            } else {
                isCorrect = userAnswer === q.correct;
            }

            const div = document.createElement('div');
            div.className = `answer-review ${isCorrect ? 'correct' : 'incorrect'}`;
            
            const statusIcon = isCorrect ? '‚úÖ' : '‚ùå';
            const userAnswerText = formatAnswer(q, userAnswer);
            const correctAnswerText = formatAnswer(q, q.correct);
            
            div.innerHTML = `
                <strong>${statusIcon} Q${i+1}: ${q.question}</strong><br>
                <small><strong>Your answer:</strong> ${userAnswerText}</small><br>
                <small><strong>Correct answer:</strong> ${correctAnswerText}</small><br>
                <small><em><strong>Explanation:</strong> ${q.explanation}</em></small>
            `;
            container.appendChild(div);
        });
    }

    function formatAnswer(q, answer) {
        if (answer === null || answer === undefined) return 'Not answered';
        
        if (q.type === 'multi') {
            if (!Array.isArray(answer)) return 'Invalid answer';
            return answer.map(i => q.options[i]).join(', ');
        }
        
        return q.options[answer] || 'Invalid answer';
    }
    
    function restartQuiz() { 
        showPage('startScreen');
        // Reset quiz state
        currentQuestionIndex = 0;
        userAnswers.fill(null);
        DOMElements.playerNameInput.focus();
    }

    function getLeaderboard() { 
        return JSON.parse(localStorage.getItem('eCommerceEGovernanceQuizLeaderboard') || '[]'); 
    }
    
    function saveScoreToLeaderboard(score, percentage, timeTaken) {
        let board = getLeaderboard();
        const entry = { 
            name: playerName, 
            score: score, 
            percentage: percentage,
            timeTaken: timeTaken,
            date: new Date().toLocaleDateString(),
            timestamp: Date.now()
        };
        
        board.push(entry);
        board.sort((a, b) => {
            // Primary sort by score (descending)
            if (b.score !== a.score) return b.score - a.score;
            // Secondary sort by percentage (descending)
            if (b.percentage !== a.percentage) return b.percentage - a.percentage;
            // Tertiary sort by time taken (ascending - less time is better)
            return a.timeTaken - b.timeTaken;
        });
        
        // Keep top 10 scores
        localStorage.setItem('eCommerceEGovernanceQuizLeaderboard', JSON.stringify(board.slice(0, 10)));
    }
    
    function showLeaderboard() {
        const board = getLeaderboard();
        const container = document.getElementById('leaderboardContainer');
        
        if (board.length === 0) {
            container.innerHTML = `
                <div style="text-align: center; padding: 40px; background: rgba(59, 130, 246, 0.05); border-radius: 12px; border: 1px dashed rgba(59, 130, 246, 0.3);">
                    <p style="color: var(--text-dark); font-size: 18px; margin-bottom: 10px;">üéØ No scores yet!</p>
                    <p style="color: var(--text-dark); font-size: 14px;">Be the first to take the quiz and set a record!</p>
                </div>
            `;
        } else {
            let html = '';
            board.forEach((entry, i) => {
                const rankIcon = i === 0 ? 'üëë' : i === 1 ? 'ü•à' : i === 2 ? 'ü•â' : `${i + 1}.`;
                const timeText = entry.timeTaken ? ` ‚Ä¢ ${entry.timeTaken}min` : '';
                const isCurrentPlayer = entry.name === playerName;
                
                html += `
                    <div class="leaderboard-entry ${isCurrentPlayer ? 'current-user' : ''}">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <span class="leaderboard-rank" style="font-size: 20px;">${rankIcon}</span>
                            <div>
                                <div style="font-weight: bold; color: var(--text-light); font-size: 16px;">${entry.name}</div>
                                <div style="color: var(--text-dark); font-size: 12px;">${entry.date}${timeText}</div>
                            </div>
                        </div>
                        <div class="leaderboard-score" style="font-size: 18px;">${entry.score}/${quizData.length}</div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }
        showPage('leaderboardScreen');
    }
    
    function hideLeaderboard() { 
        showPage('startScreen'); 
    }

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
        if (quizState === 'quiz') {
            if (e.key === 'ArrowLeft' && !DOMElements.prevBtn.disabled) {
                previousQuestion();
            } else if (e.key === 'ArrowRight' && !DOMElements.nextBtn.disabled) {
                nextQuestion();
            } else if (e.key >= '1' && e.key <= '5') {
                const index = parseInt(e.key) - 1;
                const question = quizData[currentQuestionIndex];
                if (index < question.options.length) {
                    selectAnswer(index, question.type);
                }
            }
        }
    });
</script>
</body>
</html>
