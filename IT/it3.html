<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computerised Accounting with GST Quiz</title>
    <style>
        :root {
            --bg-dark: #0f172a;
            --surface: #1e293b;
            --primary: #3b82f6;
            --primary-light: #60a5fa;
            --text-light: #cbd5e1;
            --text-dark: #94a3b8;
            --correct: #22c55e;
            --incorrect: #ef4444;
            --warning: #f59e0b;
        }
        
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, var(--bg-dark) 0%, #1e293b 100%);
            color: var(--text-light);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container { 
            width: 100%; 
            max-width: 700px; 
        }
        
        .quiz-card {
            background: var(--surface);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3), 0 1px 8px rgba(0,0,0,0.2);
            backdrop-filter: blur(10px);
        }
        
        .page { 
            display: none; 
        }
        
        .page.active { 
            display: block; 
            animation: fadeIn 0.5s ease; 
        }
        
        @keyframes fadeIn {
            from { 
                opacity: 0; 
                transform: translateY(10px); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0); 
            }
        }
        
        h1 {
            font-size: 2.2rem;
            font-weight: 700;
            text-align: center;
            background: linear-gradient(135deg, var(--primary-light), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
        }
        
        h3 {
            margin-bottom: 15px;
            color: var(--primary-light);
        }
        
        p { 
            color: var(--text-dark); 
            text-align: center; 
            margin-bottom: 25px; 
            line-height: 1.5;
        }
        
        .btn-grid { 
            display: flex; 
            justify-content: center; 
            gap: 15px; 
            flex-wrap: wrap; 
        }
        
        .btn {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 24px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        .btn:hover:not(:disabled) { 
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(59, 130, 246, 0.4);
        }
        
        .btn:active:not(:disabled) {
            transform: translateY(0);
        }
        
        .btn.secondary { 
            background: linear-gradient(135deg, #334155, #475569);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }
        
        .btn.secondary:hover:not(:disabled) { 
            background: linear-gradient(135deg, #475569, #64748b);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.4);
        }

        .btn.danger {
            background: linear-gradient(135deg, var(--incorrect), #dc2626);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
        }

        .btn.danger:hover:not(:disabled) {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            box-shadow: 0 6px 20px rgba(239, 68, 68, 0.4);
        }
        
        .btn:disabled { 
            background: #475569;
            cursor: not-allowed; 
            opacity: 0.6;
            transform: none;
            box-shadow: none;
        }
        
        input[type="text"] {
            width: 100%;
            padding: 12px 16px;
            background-color: var(--bg-dark);
            border: 2px solid #334155;
            border-radius: 8px;
            color: white;
            text-align: center;
            margin-top: 10px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        
        input[type="text"]:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .progress-container { 
            background-color: #334155; 
            border-radius: 99px; 
            padding: 4px; 
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress-bar { 
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            height: 10px; 
            border-radius: 99px; 
            transition: width 0.4s ease;
            min-width: 0;
        }
        
        .question-header { 
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .badge { 
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            padding: 6px 14px; 
            border-radius: 20px; 
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: capitalize;
        }
        
        .question-text { 
            font-size: 1.25rem; 
            margin-bottom: 25px; 
            line-height: 1.6;
            color: var(--text-light);
        }
        
        .options-container { 
            display: grid; 
            gap: 12px; 
            margin-bottom: 25px; 
        }
        
        .option {
            background: rgba(59, 130, 246, 0.05);
            border: 2px solid #334155;
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex; 
            align-items: center; 
            gap: 12px;
        }
        
        .option:hover { 
            border-color: var(--primary);
            background: rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }
        
        .option.selected { 
            border-color: var(--primary-light);
            background: rgba(59, 130, 246, 0.2);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }
        
        .option.multi-selected { 
            border-color: var(--correct);
            background: rgba(34, 197, 94, 0.15);
            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.2);
        }
        
        .option-letter {
            width: 32px; 
            height: 32px; 
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            color: white;
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-weight: 700;
            flex-shrink: 0;
            font-size: 0.9rem;
        }
        
        .results-grid { 
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); 
            gap: 20px; 
            text-align: center; 
            margin: 25px 0; 
        }
        
        .result-item {
            background: rgba(59, 130, 246, 0.1);
            padding: 20px;
            border-radius: 12px;
            border: 1px solid rgba(59, 130, 246, 0.2);
        }
        
        .result-item h3 { 
            font-size: 2.2rem; 
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        #correctCount { color: var(--correct); }
        #incorrectCount { color: var(--incorrect); }
        
        .answer-review { 
            border-left: 4px solid #334155; 
            padding: 15px; 
            margin-bottom: 12px; 
            background: rgba(0,0,0,0.1); 
            border-radius: 0 8px 8px 0;
        }
        
        .answer-review.correct { 
            border-left-color: var(--correct);
            background: rgba(34, 197, 94, 0.1);
        }
        
        .answer-review.incorrect { 
            border-left-color: var(--incorrect);
            background: rgba(239, 68, 68, 0.1);
        }
        
        .match-table { 
            width: 100%; 
            border-collapse: collapse; 
            margin: 15px 0; 
            font-size: 0.9rem;
            background: var(--bg-dark);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .match-table td { 
            border: 1px solid #334155; 
            padding: 12px;
            vertical-align: top;
        }
        
        .match-table th {
            background: rgba(59, 130, 246, 0.2);
            padding: 12px;
            font-weight: 600;
            color: var(--primary-light);
        }
        
        .match-table tr:nth-child(even) {
            background: rgba(59, 130, 246, 0.05);
        }
        
        .leaderboard-entry { 
            display: flex; 
            justify-content: space-between; 
            align-items: center;
            padding: 15px; 
            border-radius: 8px; 
            transition: all 0.3s ease;
            margin-bottom: 8px;
            background: rgba(59, 130, 246, 0.05);
            border: 1px solid rgba(59, 130, 246, 0.1);
        }
        
        .leaderboard-entry:hover { 
            background: rgba(59, 130, 246, 0.1);
            transform: translateY(-1px);
        }
        
        .leaderboard-entry.current-user {
            background: rgba(34, 197, 94, 0.2) !important;
            border-color: #22c55e !important;
        }
        
        .leaderboard-rank {
            font-weight: 700;
            color: var(--primary-light);
            margin-right: 10px;
        }
        
        .leaderboard-score {
            background: var(--primary);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .hidden { 
            display: none !important; 
        }
        
        .error-message {
            color: var(--incorrect);
            font-size: 0.9rem;
            margin-top: 5px;
            text-align: center;
        }
        
        .success-message {
            color: var(--correct);
            font-size: 0.9rem;
            margin-top: 5px;
            text-align: center;
        }
        
        @media (max-width: 640px) {
            .container {
                padding: 10px;
            }
            
            .quiz-card {
                padding: 20px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .question-header {
                flex-direction: column;
                text-align: center;
            }
            
            .results-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 15px;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }

        /* Animation styles for modal and notifications */
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        @keyframes modalSlideIn {
            from { 
                opacity: 0; 
                transform: scale(0.7) translateY(-50px); 
            }
            to { 
                opacity: 1; 
                transform: scale(1) translateY(0); 
            }
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        @keyframes fadeOut {
            from { opacity: 1; transform: scale(1); }
            to { opacity: 0; transform: scale(0.8); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Start Screen -->
        <div id="startScreen" class="quiz-card page active">
            <h1>💼 Computerised Accounting with GST Quiz</h1>
            <p>Test your knowledge of Computerised Accounting, GST concepts, vouchers, and software applications!</p>
            <input type="text" id="playerName" placeholder="Enter your name..." maxlength="20" required>
            <div id="nameError" class="error-message hidden">Please enter your name to continue</div>
            <div class="btn-grid" style="margin-top: 20px;">
                <button class="btn" onclick="startQuiz()">🚀 Start Quiz</button>
            </div>
            <div class="btn-grid" style="margin-top: 15px;">
                <button class="btn secondary" onclick="showLeaderboard()">🏆 Leaderboard</button>
                <button class="btn secondary" onclick="showInstructions()">📋 Instructions</button>
            </div>
        </div>

        <!-- Instructions Screen -->
        <div id="instructionsScreen" class="quiz-card page">
            <h1>📋 Quiz Instructions</h1>
            <div style="text-align: left; margin: 20px 0;">
                <h3>Question Types:</h3>
                <ul style="margin-left: 20px; margin-bottom: 20px;">
                    <li><strong>Single Choice:</strong> Select one correct answer</li>
                    <li><strong>Multiple Choice:</strong> Select exactly two correct answers</li>
                    <li><strong>True/False:</strong> Choose True or False</li>
                    <li><strong>Matching:</strong> Match items correctly</li>
                </ul>
                
                <h3>Scoring:</h3>
                <ul style="margin-left: 20px; margin-bottom: 20px;">
                    <li>Each question is worth 1 point</li>
                    <li>Total: 40 questions</li>
                    <li>Passing score: 24+ points (60%)</li>
                </ul>
                
                <h3>Topics Covered:</h3>
                <ul style="margin-left: 20px;">
                    <li>Accounting Software Functions</li>
                    <li>GST Types and Applications</li>
                    <li>Voucher Types and Usage</li>
                    <li>Ledger Management</li>
                </ul>
            </div>
            <div class="btn-grid">
                <button class="btn secondary" onclick="showPage('startScreen')">← Back</button>
                <button class="btn" onclick="startQuiz()">🚀 Start Quiz</button>
            </div>
        </div>

        <!-- Quiz Screen -->
        <div id="quizScreen" class="quiz-card page">
            <div class="progress-container">
                <div id="progressBar" class="progress-bar"></div>
            </div>
            <div class="question-header">
                <span id="questionCounter"></span>
                <span id="categoryBadge" class="badge"></span>
            </div>
            <div id="questionText" class="question-text"></div>
            <div id="optionsContainer" class="options-container"></div>
            <div class="btn-grid">
                <button id="prevBtn" class="btn secondary" onclick="previousQuestion()">← Previous</button>
                <button id="nextBtn" class="btn" onclick="nextQuestion()">Next →</button>
            </div>
        </div>

        <!-- Results Screen -->
        <div id="resultsScreen" class="quiz-card page">
            <h1>🎉 Quiz Complete!</h1>
            <div class="results-grid">
                <div class="result-item">
                    <h3 id="finalScore">0/40</h3>
                    <p>Score</p>
                </div>
                <div class="result-item">
                    <h3 id="percentageScore">0%</h3>
                    <p>Percentage</p>
                </div>
                <div class="result-item">
                    <h3 id="correctCount">0</h3>
                    <p>Correct</p>
                </div>
                <div class="result-item">
                    <h3 id="incorrectCount">0</h3>
                    <p>Incorrect</p>
                </div>
            </div>
            <p id="performanceMessage" style="margin-bottom:20px; font-size: 1.2rem; font-weight: 600;"></p>
            <div class="btn-grid">
                <button class="btn" onclick="toggleDetailedResults()">📊 View Answers</button>
                <button class="btn secondary" onclick="restartQuiz()">🔄 Take Again</button>
                <button class="btn secondary" onclick="showLeaderboard()">🏆 Leaderboard</button>
            </div>
            <div id="detailedResults" class="hidden" style="margin-top: 25px;"></div>
        </div>
        
        <!-- Leaderboard Screen -->
        <div id="leaderboardScreen" class="quiz-card page">
            <h1>🏆 Leaderboard</h1>
            <p>Top 10 scores from all players</p>
            <div id="leaderboardContainer" style="margin: 25px 0;"></div>
            <div class="btn-grid">
                <button class="btn secondary" onclick="hideLeaderboard()">← Back</button>
                <button class="btn danger" onclick="showAdminReset()">🔒 Reset Scores</button>
            </div>
        </div>
    </div>

<script>
    const quizData = [
        // Part A: Single Choice MCQs (15)
        {
            question: "What is the primary function of accounting software?",
            options: ["Record and process accounting transactions", "Design company logos", "Manage employee attendance", "Handle marketing campaigns"],
            correct: 0,
            type: "single",
            explanation: "The primary function of accounting software is to record and process accounting transactions systematically. It helps automate financial data entry, calculations, and reporting, making accounting processes more efficient and accurate."
        },
        {
            question: "Voucher used to record amount received is called:",
            options: ["Payment voucher", "Receipt voucher", "Sales voucher", "Purchase voucher"],
            correct: 1,
            type: "single",
            explanation: "A Receipt voucher is used to record money received by the business. It documents cash or bank receipts from customers, debtors, or any other source of income."
        },
        {
            question: "What is GSTIN?",
            options: ["Goods and Services Tax Identification Number", "General Sales Tax Invoice Number", "Government Service Tax Identification", "Goods Service Transaction Invoice"],
            correct: 0,
            type: "single",
            explanation: "GSTIN stands for Goods and Services Tax Identification Number. It is a unique 15-digit identification number assigned to every business registered under the GST system in India."
        },
        {
            question: "CGST applies to:",
            options: ["Inter-state supply", "Intra-state supply collected by State", "Intra-state supply collected by Central Govt", "Import of goods"],
            correct: 2,
            type: "single",
            explanation: "CGST (Central Goods and Services Tax) applies to intra-state supply and is collected by the Central Government. It is levied along with SGST on transactions within the same state."
        },
        {
            question: "HSN code is used for classification of:",
            options: ["Services", "Goods", "Companies", "Vouchers"],
            correct: 1,
            type: "single",
            explanation: "HSN (Harmonized System of Nomenclature) codes are used for classification of goods. These are internationally standardized codes that help in systematic classification of products for taxation purposes."
        },
        {
            question: "Which voucher is used to record goods returned by customer?",
            options: ["Sales Return/Credit Note", "Purchase Return/Debit Note", "Contra Voucher", "Journal Voucher"],
            correct: 0,
            type: "single",
            explanation: "Sales Return/Credit Note voucher is used to record goods returned by customers. It reduces the customer's liability and adjusts the sales figures accordingly."
        },
        {
            question: "Integrated GST (IGST) applies when goods are supplied:",
            options: ["Within the same state", "Between states", "Imported from abroad", "Exported outside India"],
            correct: 1,
            type: "single",
            explanation: "IGST (Integrated Goods and Services Tax) applies when goods are supplied between different states (inter-state supply). It is collected by the Central Government and later distributed between Central and State governments."
        },
        {
            question: "Tax invoices are generated using information entered in:",
            options: ["Purchase vouchers", "Sales vouchers", "Journal vouchers", "Receipt vouchers"],
            correct: 1,
            type: "single",
            explanation: "Tax invoices are generated using information entered in Sales vouchers. The sales voucher contains all necessary details like customer information, goods sold, tax rates, and amounts that appear on the tax invoice."
        },
        {
            question: "Which feature must be enabled in software for GST processing?",
            options: ["Enable VAT", "Enable GST", "Enable TDS", "Enable Payroll"],
            correct: 1,
            type: "single",
            explanation: "To process GST transactions in accounting software, the 'Enable GST' feature must be activated. This enables GST-specific fields, calculations, and reporting functionalities."
        },
        {
            question: "Expenses related to purchased services with GST are recorded under which ledger?",
            options: ["Purchase ledger", "Sales ledger", "Service purchase ledger", "Capital ledger"],
            correct: 2,
            type: "single",
            explanation: "Expenses related to purchased services with GST are recorded under the Service purchase ledger. This ledger specifically tracks service purchases and their associated GST for accurate tax reporting."
        },
        {
            question: "What is a ledger in accounting software?",
            options: ["A list of employees", "A financial account head", "A type of voucher", "A tax authority"],
            correct: 1,
            type: "single",
            explanation: "A ledger in accounting software is a financial account head that represents specific accounts like Cash, Bank, Sales, Purchase, etc. It maintains the running balance and transaction history for each account."
        },
        {
            question: "Which is NOT a typical voucher type?",
            options: ["Receipt", "Payment", "Transfer", "Sales Return"],
            correct: 2,
            type: "single",
            explanation: "Transfer is not a typical voucher type in standard accounting. Common voucher types include Receipt, Payment, Sales, Purchase, Sales Return, Purchase Return, Journal, and Contra vouchers."
        },
        {
            question: "The final step of GST entry in software includes:",
            options: ["Enabling payroll", "Posting vouchers", "Printing marketing reports", "Designing invoice template"],
            correct: 1,
            type: "single",
            explanation: "The final step of GST entry in software includes posting vouchers. This finalizes the transaction entry and updates all related ledgers, ensuring the data is saved and reflected in reports."
        },
        {
            question: "Accounting reports generated by software include:",
            options: ["Trial Balance and GST reports", "Marketing plan", "Employee time sheets", "Product specifications"],
            correct: 0,
            type: "single",
            explanation: "Accounting software generates financial reports like Trial Balance, Profit & Loss, Balance Sheet, and GST reports (GSTR-1, GSTR-2, etc.). These reports help in financial analysis and compliance."
        },
        {
            question: "Which accounting package is NOT mentioned as an example?",
            options: ["Tally ERP 9", "Ubuntu", "GNUKhata", "Akaunting"],
            correct: 1,
            type: "single",
            explanation: "Ubuntu is a Linux operating system, not an accounting software package. Tally ERP 9, GNUKhata, and Akaunting are all accounting software applications."
        },

        // Part B: Two Correct Options (15)
        {
            question: "Which of the following are types of GST?",
            options: ["CGST", "TDS", "SGST", "IGST"],
            correct: [0, 2],
            type: "multi",
            explanation: "CGST (Central GST) and SGST (State GST) are the main types of GST for intra-state transactions. TDS is Tax Deducted at Source, not a GST type. IGST is also a GST type but only two answers were required."
        },
        {
            question: "Which are important voucher types?",
            options: ["Contra", "Invoice", "Journal", "Debit Note"],
            correct: [0, 2],
            type: "multi",
            explanation: "Contra and Journal are fundamental voucher types in accounting. Contra voucher records fund transfers between cash and bank, while Journal voucher records adjusting and non-cash entries."
        },
        {
            question: "Which documents are needed for GST registration?",
            options: ["PAN Card", "Passport", "Aadhaar Card", "Business Address Proof"],
            correct: [0, 2],
            type: "multi",
            explanation: "PAN Card and Aadhaar Card are essential documents for GST registration in India. PAN is mandatory for all businesses, and Aadhaar is required for individual proprietors."
        },
        {
            question: "What features enable GST in accounting software?",
            options: ["Company creation", "GST details entry", "Product launch", "Ledger creation"],
            correct: [0, 1],
            type: "multi",
            explanation: "Company creation and GST details entry are essential features to enable GST functionality in accounting software. These set up the basic structure for GST-compliant transactions."
        },
        {
            question: "Key GST codes include:",
            options: ["HSN", "SAC", "PAN", "CIN"],
            correct: [0, 1],
            type: "multi",
            explanation: "HSN (Harmonized System of Nomenclature) for goods and SAC (Service Accounting Code) for services are key GST classification codes used for tax determination and compliance."
        },
        {
            question: "Which factors affect GST tax rates in software?",
            options: ["Place of supply", "Value of goods", "Employee designation", "Time of purchase"],
            correct: [0, 1],
            type: "multi",
            explanation: "Place of supply determines whether CGST+SGST or IGST applies, and value of goods affects tax calculations. These are key factors in determining GST rates and amounts."
        },
        {
            question: "Essential GST ledgers include:",
            options: ["CGST ledger", "SGST ledger", "Payroll ledger", "Advance Tax ledger"],
            correct: [0, 1],
            type: "multi",
            explanation: "CGST ledger and SGST ledger are essential for tracking Central GST and State GST respectively. These ledgers maintain records of tax paid and claimed for compliance purposes."
        },
        {
            question: "Which accounting reports reflect GST data?",
            options: ["GSTR-1", "GSTR-2", "Income Tax return", "Trial Balance"],
            correct: [0, 1],
            type: "multi",
            explanation: "GSTR-1 (outward supplies) and GSTR-2 (inward supplies) are specific GST returns that reflect GST transaction data. These are mandatory compliance reports under the GST system."
        },
        {
            question: "For purchase of goods, vouchers needed are:",
            options: ["Purchase voucher", "Sales voucher", "Payment voucher", "Credit Note"],
            correct: [0, 2],
            type: "multi",
            explanation: "Purchase voucher records the goods bought, and Payment voucher records the amount paid to suppliers. Both are needed to complete the purchase transaction cycle."
        },
        {
            question: "What must be included in stock items for GST?",
            options: ["GST Rates", "Quantity", "Supplier address", "Unit of measurement"],
            correct: [0, 3],
            type: "multi",
            explanation: "GST Rates are essential for tax calculations, and Unit of measurement is required for proper inventory tracking and GST compliance in stock items."
        },
        {
            question: "Benefits of computerised accounting include:",
            options: ["Accurate calculations", "Faster processing", "Marketing strategy", "Manual book keeping"],
            correct: [0, 1],
            type: "multi",
            explanation: "Computerised accounting provides accurate calculations by eliminating human errors and enables faster processing of transactions compared to manual methods."
        },
        {
            question: "IGST collected goes to:",
            options: ["State Government", "Central Government", "Local Authorities", "Exporters"],
            correct: [0, 1],
            type: "multi",
            explanation: "IGST collected initially goes to the Central Government, which then distributes the appropriate portions to both Central and State governments based on consumption patterns."
        },
        {
            question: "Accounts payable and accounts receivable are parts of:",
            options: ["Voucher types", "Software modules", "GST Codes", "Tax slabs"],
            correct: [0, 1],
            type: "multi",
            explanation: "Accounts payable and receivable are managed through specific voucher types (like purchase/payment and sales/receipt vouchers) and are integral parts of accounting software modules."
        },
        {
            question: "Contra voucher is used for:",
            options: ["Recording cash deposits", "Payment to suppliers", "Transfer between bank and cash", "Sales returns"],
            correct: [0, 2],
            type: "multi",
            explanation: "Contra voucher is used for recording cash deposits in bank and transfers between bank and cash accounts. It handles fund movements within the organization's own accounts."
        },
        {
            question: "Which are common accounting software packages?",
            options: ["Tally ERP 9", "GNUCash", "Microsoft Office", "LedgerSMB"],
            correct: [0, 1],
            type: "multi",
            explanation: "Tally ERP 9 and GNUCash are specialized accounting software packages. Microsoft Office is a productivity suite, and while LedgerSMB exists, the primary examples are Tally and GNUCash."
        },

        // Part C: Match the Column (2 sets)
        {
            question: "Match the accounting terms with their definitions:",
            type: "match",
            options: ["1-c, 2-a, 3-d, 4-b", "1-a, 2-b, 3-c, 4-d", "1-d, 2-c, 3-b, 4-a", "1-b, 2-d, 3-a, 4-c"],
            correct: 0,
            explanation: "Correct matching: Voucher is a document for recording transactions (1-c), GSTIN is the 15-digit GST registration number (2-a), HSN Code is the classification code for goods (3-d), and IGST is GST on interstate supplies (4-b).",
            matchData: {
                columnA: ["1. Voucher", "2. GSTIN", "3. HSN Code", "4. IGST"],
                columnB: ["a. 15-digit GST registration number", "b. GST on interstate supplies", "c. Document for recording transaction", "d. Classification code for goods"]
            }
        },
        {
            question: "Match the GST types with their applications:",
            type: "match",
            options: ["1-b, 2-c, 3-a", "1-a, 2-b, 3-c", "1-c, 2-a, 3-b", "1-b, 2-a, 3-c"],
            correct: 0,
            explanation: "Correct matching: CGST is GST collected by Central govt on intra-state supply (1-b), SGST is GST collected by State govt on intra-state supply (2-c), and IGST is GST applicable on inter-state supply (3-a).",
            matchData: {
                columnA: ["1. CGST", "2. SGST", "3. IGST"],
                columnB: ["a. GST applicable on inter-state supply", "b. GST collected by Central govt on intra-state supply", "c. GST collected by State govt on intra-state supply"]
            }
        },

        // Part D: True/False (6)
        {
            question: "Voucher is a pre-numbered accounting document.",
            options: ["True", "False"],
            correct: 0,
            type: "boolean",
            explanation: "True. Vouchers are typically pre-numbered accounting documents that help maintain proper sequence and control over financial transactions, ensuring audit trail and preventing fraud."
        },
        {
            question: "IGST is collected by the State Government.",
            options: ["True", "False"],
            correct: 1,
            type: "boolean",
            explanation: "False. IGST (Integrated GST) is collected by the Central Government for inter-state transactions. The Central Government later distributes the collected IGST between Central and State governments."
        },
        {
            question: "GSTIN is a 15-digit registration number for dealers under GST.",
            options: ["True", "False"],
            correct: 0,
            type: "boolean",
            explanation: "True. GSTIN (Goods and Services Tax Identification Number) is a unique 15-digit registration number assigned to every business registered under the GST system for identification and compliance purposes."
        },
        {
            question: "HSN codes are used to classify services under GST.",
            options: ["True", "False"],
            correct: 1,
            type: "boolean",
            explanation: "False. HSN (Harmonized System of Nomenclature) codes are used to classify goods, not services. Services are classified using SAC (Service Accounting Code) under GST."
        },
        {
            question: "Contra voucher is used for fund transfer between bank and cash.",
            options: ["True", "False"],
            correct: 0,
            type: "boolean",
            explanation: "True. Contra voucher is specifically used to record fund transfers between bank and cash accounts, including cash deposits, withdrawals, and transfers between different bank accounts."
        },
        {
            question: "Accounting software cannot generate GST reports.",
            options: ["True", "False"],
            correct: 1,
            type: "boolean",
            explanation: "False. Modern accounting software can generate various GST reports including GSTR-1, GSTR-2, GSTR-3B, and other compliance reports required for GST filing and tax management."
        }
    ];

    let currentQuestionIndex = 0;
    let userAnswers = new Array(quizData.length).fill(null);
    let quizState = 'start';
    let lastState = 'start';
    let playerName = '';
    let quizStartTime = null;
    let quizEndTime = null;
    
    const DOMElements = {
        pages: document.querySelectorAll('.page'),
        startScreen: document.getElementById('startScreen'),
        quizScreen: document.getElementById('quizScreen'),
        resultsScreen: document.getElementById('resultsScreen'),
        leaderboardScreen: document.getElementById('leaderboardScreen'),
        instructionsScreen: document.getElementById('instructionsScreen'),
        progressBar: document.getElementById('progressBar'),
        questionCounter: document.getElementById('questionCounter'),
        categoryBadge: document.getElementById('categoryBadge'),
        questionText: document.getElementById('questionText'),
        optionsContainer: document.getElementById('optionsContainer'),
        prevBtn: document.getElementById('prevBtn'),
        nextBtn: document.getElementById('nextBtn'),
        playerNameInput: document.getElementById('playerName'),
        nameError: document.getElementById('nameError')
    };
    
    // Initialize event listeners
    document.addEventListener('DOMContentLoaded', function() {
        DOMElements.playerNameInput.addEventListener('input', function() {
            DOMElements.nameError.classList.add('hidden');
        });
        
        DOMElements.playerNameInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                startQuiz();
            }
        });
    });

    // Admin reset system with secure code protection
    function showAdminReset() {
        const modalOverlay = document.createElement('div');
        modalOverlay.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        `;

        const modal = document.createElement('div');
        modal.style.cssText = `
            background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
            border: 2px solid rgba(239, 68, 68, 0.5);
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            color: white;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.9), inset 0 1px 0 rgba(255, 255, 255, 0.1);
            max-width: 450px;
            width: 90%;
            animation: modalSlideIn 0.3s ease-out;
        `;

        modal.innerHTML = `
            <div style="margin-bottom: 25px;">
                <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #ef4444, #dc2626); 
                            border-radius: 50%; display: flex; align-items: center; justify-content: center; 
                            margin: 0 auto 15px auto; font-size: 24px;">🔒</div>
                <h3 style="color: #ef4444; margin-bottom: 10px; font-size: 1.5rem;">Admin Access Required</h3>
                <p style="color: #cbd5e1; margin-bottom: 0;">Enter the reset code to clear all leaderboard scores:</p>
            </div>
            
            <div style="margin: 25px 0;">
                <input type="password" id="resetCode" placeholder="Enter reset code" 
                       style="width: 100%; padding: 15px; border-radius: 10px; border: 2px solid rgba(239, 68, 68, 0.3); 
                              background: rgba(239, 68, 68, 0.1); color: white; text-align: center; 
                              font-size: 16px; font-weight: bold; letter-spacing: 2px;">
                <div id="codeError" style="color: #ef4444; font-size: 14px; margin-top: 10px; display: none;">
                    ❌ Incorrect code. Access denied.
                </div>
            </div>
            
            <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
                <button onclick="verifyResetCode()" class="btn btn-danger" 
                        style="min-width: 140px; font-weight: bold;">
                    🗑️ Reset Leaderboard
                </button>
                <button onclick="closeResetModal()" class="btn btn-secondary" 
                        style="min-width: 100px;">
                    Cancel
                </button>
            </div>
            
            <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid rgba(239, 68, 68, 0.2);">
                <p style="font-size: 12px; color: #94a3b8; line-height: 1.4;">
                    ⚠️ <strong>Warning:</strong> This action will permanently delete all player scores and cannot be undone!
                </p>
            </div>
        `;

        modalOverlay.appendChild(modal);
        document.body.appendChild(modalOverlay);
        window.currentResetModal = modalOverlay;
        
        const codeInput = document.getElementById('resetCode');
        codeInput.focus();
        codeInput.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                verifyResetCode();
            }
        });

        // Close modal when clicking outside
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeResetModal();
            }
        });
    }

    function verifyResetCode() {
        const enteredCode = document.getElementById('resetCode').value.trim();
        const correctCode = "TESSA"; // 🔑 RESET PASSWORD IS NOW "TESSA"
        const errorDiv = document.getElementById('codeError');
        
        if (enteredCode === correctCode) {
            // Correct code - show final confirmation
            if (confirm('🚨 FINAL WARNING 🚨\n\nYou are about to permanently delete ALL leaderboard scores!\n\nThis action CANNOT be undone.\n\nClick OK to proceed or Cancel to abort.')) {
                localStorage.removeItem('accountingGSTQuizLeaderboard');
                closeResetModal();
                
                showNotification('✅ Leaderboard has been reset successfully!', 'success');
                
                // Refresh leaderboard display if currently viewing it
                if (document.getElementById('leaderboardScreen').classList.contains('active')) {
                    showLeaderboard();
                }
            }
        } else {
            // Wrong code - show error
            errorDiv.style.display = 'block';
            document.getElementById('resetCode').value = '';
            document.getElementById('resetCode').focus();
            
            // Add shake animation to modal
            const modal = window.currentResetModal.querySelector('div');
            modal.style.animation = 'shake 0.5s ease-in-out';
            setTimeout(() => {
                modal.style.animation = '';
            }, 500);
        }
    }

    function closeResetModal() {
        if (window.currentResetModal) {
            window.currentResetModal.style.animation = 'fadeOut 0.3s ease-in';
            setTimeout(() => {
                if (document.body.contains(window.currentResetModal)) {
                    document.body.removeChild(window.currentResetModal);
                }
                window.currentResetModal = null;
            }, 300);
        }
    }

    function showNotification(message, type) {
        const notification = document.createElement('div');
        const isSuccess = type === 'success';
        
        notification.style.cssText = `
            position: fixed;
            top: 30px;
            right: 30px;
            padding: 20px 25px;
            border-radius: 12px;
            color: white;
            font-weight: bold;
            font-size: 16px;
            z-index: 1001;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
            background: ${isSuccess ? 
                'linear-gradient(135deg, #22c55e, #16a34a)' : 
                'linear-gradient(135deg, #ef4444, #dc2626)'};
            border: 1px solid ${isSuccess ? '#16a34a' : '#dc2626'};
            animation: slideIn 0.4s ease-out;
            max-width: 300px;
            text-align: center;
        `;
        
        notification.innerHTML = `
            <div style="display: flex; align-items: center; gap: 10px; justify-content: center;">
                <span style="font-size: 20px;">${isSuccess ? '✅' : '❌'}</span>
                <span>${message}</span>
            </div>
        `;
        
        document.body.appendChild(notification);
        
        // Auto remove after 4 seconds
        setTimeout(() => {
            notification.style.animation = 'slideOut 0.4s ease-in';
            setTimeout(() => {
                if (document.body.contains(notification)) {
                    document.body.removeChild(notification);
                }
            }, 400);
        }, 4000);
    }

    // Secret key combination (type "RESET" to trigger admin panel)
    let keySequence = [];
    const secretKeys = ['KeyR', 'KeyE', 'KeyS', 'KeyE', 'KeyT'];

    document.addEventListener('keydown', function(e) {
        keySequence.push(e.code);
        
        if (keySequence.length > secretKeys.length) {
            keySequence.shift();
        }
        
        if (keySequence.length === secretKeys.length && 
            keySequence.every((key, index) => key === secretKeys[index])) {
            
            showAdminReset();
            keySequence = [];
        }
    });
    
    function showPage(pageId) {
        lastState = quizState;
        quizState = pageId;
        DOMElements.pages.forEach(p => p.classList.remove('active'));
        document.getElementById(pageId).classList.add('active');
    }

    function showInstructions() {
        showPage('instructionsScreen');
    }

    function validatePlayerName() {
        const name = DOMElements.playerNameInput.value.trim();
        if (!name) {
            DOMElements.nameError.textContent = 'Please enter your name to continue';
            DOMElements.nameError.classList.remove('hidden');
            DOMElements.playerNameInput.focus();
            return false;
        }
        if (name.length < 2) {
            DOMElements.nameError.textContent = 'Name must be at least 2 characters long';
            DOMElements.nameError.classList.remove('hidden');
            DOMElements.playerNameInput.focus();
            return false;
        }
        return true;
    }

    function startQuiz() {
        if (!validatePlayerName()) {
            return;
        }
        
        playerName = DOMElements.playerNameInput.value.trim();
        currentQuestionIndex = 0;
        userAnswers.fill(null);
        quizStartTime = new Date();
        renderQuestion();
        showPage('quizScreen');
    }

    function renderQuestion() {
        const question = quizData[currentQuestionIndex];
        const progress = ((currentQuestionIndex) / quizData.length) * 100;
        DOMElements.progressBar.style.width = `${progress}%`;
        DOMElements.questionCounter.textContent = `Question ${currentQuestionIndex + 1} of ${quizData.length}`;
        
        // Set badge text and style based on question type
        const typeMapping = {
            'single': 'Single Choice',
            'multi': 'Multiple Choice',
            'boolean': 'True/False',
            'match': 'Matching'
        };
        DOMElements.categoryBadge.textContent = typeMapping[question.type] || question.type;
        
        let questionHTML = question.question;
        if (question.type === 'match' && question.matchData) {
            questionHTML += `<table class="match-table">`;
            questionHTML += `<tr><th style="padding: 12px; background: rgba(59, 130, 246, 0.1);">Column A</th><th style="padding: 12px; background: rgba(59, 130, 246, 0.1);">Column B</th></tr>`;
            for(let i = 0; i < question.matchData.columnA.length; i++) {
                questionHTML += `<tr><td>${question.matchData.columnA[i]}</td><td>${question.matchData.columnB[i]}</td></tr>`;
            }
            questionHTML += `</table>`;
        }
        DOMElements.questionText.innerHTML = questionHTML;

        DOMElements.optionsContainer.innerHTML = '';

        question.options.forEach((option, index) => {
            const optionEl = document.createElement('div');
            optionEl.className = 'option';
            optionEl.innerHTML = `<span class="option-letter">${String.fromCharCode(65 + index)}</span><span>${option}</span>`;
            
            const currentAnswer = userAnswers[currentQuestionIndex];
            if (question.type === 'multi') {
                if (currentAnswer && currentAnswer.includes(index)) {
                    optionEl.classList.add('multi-selected');
                }
            } else {
                if (currentAnswer === index) {
                    optionEl.classList.add('selected');
                }
            }

            optionEl.onclick = () => selectAnswer(index, question.type);
            DOMElements.optionsContainer.appendChild(optionEl);
        });
        updateNavButtons();
    }
    
    function selectAnswer(index, type) {
        let currentAnswer = userAnswers[currentQuestionIndex];
        
        if (type === 'multi') {
            const newAnswer = currentAnswer ? [...currentAnswer] : [];
            const pos = newAnswer.indexOf(index);
            
            if (pos > -1) {
                // Remove if already selected
                newAnswer.splice(pos, 1);
            } else if (newAnswer.length < 2) {
                // Add if less than 2 selected
                newAnswer.push(index);
            } else {
                // Replace oldest if 2 already selected
                newAnswer.shift();
                newAnswer.push(index);
            }
            
            userAnswers[currentQuestionIndex] = newAnswer.length > 0 ? newAnswer : null;
        } else {
            userAnswers[currentQuestionIndex] = index;
        }
        renderQuestion();
    }
    
    function updateNavButtons() {
        DOMElements.prevBtn.disabled = currentQuestionIndex === 0;
        
        let answer = userAnswers[currentQuestionIndex];
        if (quizData[currentQuestionIndex].type === 'multi') {
            DOMElements.nextBtn.disabled = !answer || answer.length !== 2;
        } else {
            DOMElements.nextBtn.disabled = answer === null || answer === undefined;
        }
        
        DOMElements.nextBtn.textContent = currentQuestionIndex === quizData.length - 1 ? 'Finish 🏁' : 'Next →';
    }

    function previousQuestion() {
        if (currentQuestionIndex > 0) { 
            currentQuestionIndex--; 
            renderQuestion(); 
        }
    }
    
    function nextQuestion() {
        if (currentQuestionIndex < quizData.length - 1) {
            currentQuestionIndex++;
            renderQuestion();
        } else {
            finishQuiz();
        }
    }

    function finishQuiz() {
        quizEndTime = new Date();
        const timeTaken = Math.round((quizEndTime - quizStartTime) / 1000 / 60); // minutes
        
        let score = 0;
        quizData.forEach((q, i) => {
            const userAnswer = userAnswers[i];
            let isCorrect = false;
            
            if (q.type === 'multi') {
                const sortedUser = userAnswer ? [...userAnswer].sort() : [];
                const sortedCorrect = [...q.correct].sort();
                if (sortedUser.length === sortedCorrect.length && 
                    sortedUser.every((v, idx) => v === sortedCorrect[idx])) {
                    isCorrect = true;
                }
            } else {
                if (userAnswer === q.correct) {
                    isCorrect = true;
                }
            }
            if (isCorrect) score++;
        });
        
        const percentage = Math.round((score / quizData.length) * 100);
        document.getElementById('finalScore').textContent = `${score}/${quizData.length}`;
        document.getElementById('percentageScore').textContent = `${percentage}%`;
        document.getElementById('correctCount').textContent = score;
        document.getElementById('incorrectCount').textContent = quizData.length - score;
        
        let message = "Keep practicing! 📚";
        let messageColor = "var(--incorrect)";
        
        if (percentage >= 90) {
            message = "Outstanding! You're an accounting expert! 🌟";
            messageColor = "var(--correct)";
        } else if (percentage >= 80) {
            message = "Excellent work! Great knowledge of accounting and GST! 🎉";
            messageColor = "var(--correct)";
        } else if (percentage >= 70) {
            message = "Good job! You're on the right track! 👍";
            messageColor = "var(--primary-light)";
        } else if (percentage >= 60) {
            message = "Not bad! Room for improvement! 💪";
            messageColor = "var(--warning)";
        }
        
        const messageEl = document.getElementById('performanceMessage');
        messageEl.textContent = message;
        messageEl.style.color = messageColor;

        saveScoreToLeaderboard(score, percentage, timeTaken);
        showPage('resultsScreen');
    }
    
    function toggleDetailedResults() {
        const container = document.getElementById('detailedResults');
        const isHidden = container.classList.contains('hidden');
        
        if (isHidden) {
            container.classList.remove('hidden');
            generateDetailedResults(container);
        } else {
            container.classList.add('hidden');
        }
    }
    
    function generateDetailedResults(container) {
        container.innerHTML = '<h3>📊 Answer Review</h3>';
        
        quizData.forEach((q, i) => {
            let userAnswer = userAnswers[i];
            let isCorrect = false;
            
            if (q.type === 'multi') {
                const sortedUser = userAnswer ? [...userAnswer].sort() : [];
                const sortedCorrect = [...q.correct].sort();
                isCorrect = sortedUser.length === sortedCorrect.length && 
                           sortedUser.every((v, idx) => v === sortedCorrect[idx]);
            } else {
                isCorrect = userAnswer === q.correct;
            }

            const div = document.createElement('div');
            div.className = `answer-review ${isCorrect ? 'correct' : 'incorrect'}`;
            
            const statusIcon = isCorrect ? '✅' : '❌';
            const userAnswerText = formatAnswer(q, userAnswer);
            const correctAnswerText = formatAnswer(q, q.correct);
            
            div.innerHTML = `
                <strong>${statusIcon} Q${i+1}: ${q.question}</strong><br>
                <small><strong>Your answer:</strong> ${userAnswerText}</small><br>
                <small><strong>Correct answer:</strong> ${correctAnswerText}</small><br>
                <small><em><strong>Explanation:</strong> ${q.explanation}</em></small>
            `;
            container.appendChild(div);
        });
    }

    function formatAnswer(q, answer) {
        if (answer === null || answer === undefined) return 'Not answered';
        
        if (q.type === 'multi') {
            if (!Array.isArray(answer)) return 'Invalid answer';
            return answer.map(i => q.options[i]).join(', ');
        }
        
        return q.options[answer] || 'Invalid answer';
    }
    
    function restartQuiz() { 
        showPage('startScreen');
        // Reset quiz state
        currentQuestionIndex = 0;
        userAnswers.fill(null);
        DOMElements.playerNameInput.focus();
    }

    function getLeaderboard() { 
        return JSON.parse(localStorage.getItem('accountingGSTQuizLeaderboard') || '[]'); 
    }
    
    function saveScoreToLeaderboard(score, percentage, timeTaken) {
        let board = getLeaderboard();
        const entry = { 
            name: playerName, 
            score: score, 
            percentage: percentage,
            timeTaken: timeTaken,
            date: new Date().toLocaleDateString(),
            timestamp: Date.now()
        };
        
        board.push(entry);
        board.sort((a, b) => {
            // Primary sort by score (descending)
            if (b.score !== a.score) return b.score - a.score;
            // Secondary sort by percentage (descending)
            if (b.percentage !== a.percentage) return b.percentage - a.percentage;
            // Tertiary sort by time taken (ascending - less time is better)
            return a.timeTaken - b.timeTaken;
        });
        
        // Keep top 10 scores
        localStorage.setItem('accountingGSTQuizLeaderboard', JSON.stringify(board.slice(0, 10)));
    }
    
    function showLeaderboard() {
        const board = getLeaderboard();
        const container = document.getElementById('leaderboardContainer');
        
        if (board.length === 0) {
            container.innerHTML = `
                <div style="text-align: center; padding: 40px; background: rgba(59, 130, 246, 0.05); border-radius: 12px; border: 1px dashed rgba(59, 130, 246, 0.3);">
                    <p style="color: var(--text-dark); font-size: 18px; margin-bottom: 10px;">🎯 No scores yet!</p>
                    <p style="color: var(--text-dark); font-size: 14px;">Be the first to take the quiz and set a record!</p>
                </div>
            `;
        } else {
            let html = '';
            board.forEach((entry, i) => {
                const rankIcon = i === 0 ? '👑' : i === 1 ? '🥈' : i === 2 ? '🥉' : `${i + 1}.`;
                const timeText = entry.timeTaken ? ` • ${entry.timeTaken}min` : '';
                const isCurrentPlayer = entry.name === playerName;
                
                html += `
                    <div class="leaderboard-entry ${isCurrentPlayer ? 'current-user' : ''}">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <span class="leaderboard-rank" style="font-size: 20px;">${rankIcon}</span>
                            <div>
                                <div style="font-weight: bold; color: var(--text-light); font-size: 16px;">${entry.name}</div>
                                <div style="color: var(--text-dark); font-size: 12px;">${entry.date}${timeText}</div>
                            </div>
                        </div>
                        <div class="leaderboard-score" style="font-size: 18px;">${entry.score}/${quizData.length}</div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }
        showPage('leaderboardScreen');
    }
    
    function hideLeaderboard() { 
        showPage('startScreen'); 
    }

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
        if (quizState === 'quiz') {
            if (e.key === 'ArrowLeft' && !DOMElements.prevBtn.disabled) {
                previousQuestion();
            } else if (e.key === 'ArrowRight' && !DOMElements.nextBtn.disabled) {
                nextQuestion();
            } else if (e.key >= '1' && e.key <= '5') {
                const index = parseInt(e.key) - 1;
                const question = quizData[currentQuestionIndex];
                if (index < question.options.length) {
                    selectAnswer(index, question.type);
                }
            }
        }
    });
</script>
</body>
</html>
